<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Shiny and the Web | Outstanding User Interfaces with Shiny</title>
<meta name="author" content="David Granjon">
<meta name="description" content="{shiny} (Chang et al. 2021) allows the development of web applications with R in minutes. Let’s face it: this is quite mind blowing. While this may not be a production-ready app, it will still be...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 1 Shiny and the Web | Outstanding User Interfaces with Shiny">
<meta property="og:type" content="book">
<meta property="og:image" content="https://raw.githubusercontent.com/DivadNojnarg/outstanding-shiny-ui/master/images/intro/crc-press-cover.svg">
<meta property="og:description" content="{shiny} (Chang et al. 2021) allows the development of web applications with R in minutes. Let’s face it: this is quite mind blowing. While this may not be a production-ready app, it will still be...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 Shiny and the Web | Outstanding User Interfaces with Shiny">
<meta name="twitter:description" content="{shiny} (Chang et al. 2021) allows the development of web applications with R in minutes. Let’s face it: this is quite mind blowing. While this may not be a production-ready app, it will still be...">
<meta name="twitter:image" content="https://raw.githubusercontent.com/DivadNojnarg/outstanding-shiny-ui/master/images/intro/crc-press-cover.svg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Outstanding User Interfaces with Shiny</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="foreword.html">Foreword</a></li>
<li class="book-part">Introduction</li>
<li><a class="active" href="web-intro.html"><span class="header-section-number">1</span> Shiny and the Web</a></li>
<li><a class="" href="htmltools-overview.html"><span class="header-section-number">2</span> Manipulate HTML tags from R with {htmltools}</a></li>
<li><a class="" href="web-dependencies.html"><span class="header-section-number">3</span> Discover Shiny dependencies</a></li>
<li><a class="" href="htmltools-dependencies.html"><span class="header-section-number">4</span> Handle HTML dependencies with {htmltools}</a></li>
<li><a class="" href="web-applications.html"><span class="header-section-number">5</span> Web application concepts</a></li>
<li class="book-part">Beautify with CSS and Sass</li>
<li><a class="" href="beautify-css.html"><span class="header-section-number">6</span> CSS for Shiny</a></li>
<li><a class="" href="beautify-sass.html"><span class="header-section-number">7</span> Tidy your CSS with Sass</a></li>
<li><a class="" href="beautify-with-fresh.html"><span class="header-section-number">8</span> Beautify with {fresh}</a></li>
<li><a class="" href="beautify-with-bootstraplib.html"><span class="header-section-number">9</span> Become a theming wizard with {bslib}</a></li>
<li class="book-part">Unleash interactivity with JavaScript</li>
<li><a class="" href="survival-kit-javascript.html"><span class="header-section-number">10</span> JavaScript for Shiny</a></li>
<li><a class="" href="shiny-intro.html"><span class="header-section-number">11</span> Communicate between R and JS</a></li>
<li><a class="" href="shiny-input-system.html"><span class="header-section-number">12</span> Understand and develop new Shiny inputs</a></li>
<li><a class="" href="shiny-input-lifecycle.html"><span class="header-section-number">13</span> Shiny inputs lifecycles</a></li>
<li><a class="" href="shiny-input-gems.html"><span class="header-section-number">14</span> Mastering Shiny’s events</a></li>
<li><a class="" href="shiny-custom-handler.html"><span class="header-section-number">15</span> Optimize your apps with custom handlers</a></li>
<li class="book-part">Practice: A Bootstrap 4 dashboard template</li>
<li><a class="" href="custom-templates-dependencies.html"><span class="header-section-number">16</span> Define dependencies</a></li>
<li><a class="" href="custom-templates-skeleton.html"><span class="header-section-number">17</span> Create template elements</a></li>
<li><a class="" href="custom-templates-inputs.html"><span class="header-section-number">18</span> Develop custom input widgets</a></li>
<li><a class="" href="custom-templates-interactivity.html"><span class="header-section-number">19</span> Adding more interactivity</a></li>
<li><a class="" href="custom-templates-testing.html"><span class="header-section-number">20</span> Testing and validating template elements</a></li>
<li class="book-part">Toward a better workflow</li>
<li><a class="" href="workflow-charpente.html"><span class="header-section-number">21</span> Automate new template creation with {charpente}</a></li>
<li class="book-part">Case study: Mobile development for Shiny</li>
<li><a class="" href="mobile-shiny-intro.html"><span class="header-section-number">22</span> Introduction</a></li>
<li><a class="" href="mobile-shinyMobile.html"><span class="header-section-number">23</span> Reconstruct {shinyMobile}</a></li>
<li><a class="" href="mobile-pwa.html"><span class="header-section-number">24</span> {shinyMobile} and PWA</a></li>
<li><a class="" href="mobile-widgets.html"><span class="header-section-number">25</span> Design widgets</a></li>
<li><a class="" href="mobile-going-further.html"><span class="header-section-number">26</span> Fine-tune {shinyMobile}</a></li>
<li class="book-part">Going further</li>
<li><a class="" href="going-further-reactR.html"><span class="header-section-number">27</span> Shiny and React with {reactR}</a></li>
<li><a class="" href="going-further-webdev.html"><span class="header-section-number">28</span> Shiny and modern web development</a></li>
<li><a class="" href="going-further-where-to-go.html"><span class="header-section-number">29</span> What to do next?</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="code-outputs.html"><span class="header-section-number">A</span> Code outputs</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/DivadNojnarg/outstanding-shiny-ui">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="web-intro" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Shiny and the Web<a class="anchor" aria-label="anchor" href="#web-intro"><i class="fas fa-link"></i></a>
</h1>
<p><a href="https://shiny.rstudio.com/">shiny</a> <span class="citation">(<a href="references.html#ref-R-shiny" role="doc-biblioref">Chang et al. 2021</a>)</span> allows the development of <strong>web applications</strong> with R in minutes. Let’s face it: this is quite mind blowing. While this may not be a production-ready app, it will still be a fully functional, working prototype. Believe me, doing a web application with pure <strong>HTML</strong>, <strong>CSS</strong> and <strong>JavaScript</strong> is more difficult, especially for someone with a non-web developer background.</p>
<p>We first load <a href="https://shiny.rstudio.com/">shiny</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></code></pre></div>
<div id="shiny-generates-html-code-from-r" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Shiny generates HTML code from R<a class="anchor" aria-label="anchor" href="#shiny-generates-html-code-from-r"><i class="fas fa-link"></i></a>
</h2>
<p>I propose to warm up with a little exercise:</p>
<ol style="list-style-type: decimal">
<li>Copy and paste this code to the R console and click enter.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">h1</a></span><span class="op">(</span><span class="st">"Hello World"</span><span class="op">)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>What do you observe?</li>
</ol>
<p>The output is HTML code. For a R developer, being able to generate HTML code from R allows the developer to remain focused on the main task instead of the web development burdens.</p>
<p>Most of the time, a production Shiny app requires custom elements that are not contained or hidden in Shiny’s core.</p>
<p>Is a Shiny app less customizable than a classic web app? Not at all! Under the hood, Shiny has its own engine to build HTML tags, through R, meaning that all HTML elements are available. You may also include any custom <a href="https://shiny.rstudio.com/articles/packaging-javascript.html">JavaScript</a> code and styles with CSS. In Chapter <a href="htmltools-overview.html#htmltools-overview">2</a>, we will shed the light on the underlying mechanisms that allow you to create HTML from R code.</p>
<p>Huumm … I feel you don’t believe me … OK, fine … let me show you something!</p>
</div>
<div id="be-a-dj" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Be a DJ<a class="anchor" aria-label="anchor" href="#be-a-dj"><i class="fas fa-link"></i></a>
</h2>
<p>What you see below in Figure <a href="web-intro.html#fig:dj-app">1.1</a> is a Shiny app. Yes, I swear!</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:dj-app"></span>
<img src="images/intro/dj-app.png" alt="Shiny app with the Pioneer CDJ 2000 NXS2 professional gear look." width="40%"><p class="caption">
FIGURE 1.1: Shiny app with the Pioneer CDJ 2000 NXS2 professional gear look.
</p>
</div>
<p>If you are still not convinced, have a look at the below demonstration.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### RUN ### </span>
<span class="co"># OSUICode::run_example( </span>
<span class="co">#  "intro/dj-system", </span>
<span class="co">#   package = "OSUICode" </span>
<span class="co"># ) </span></code></pre></div>
<p>Wait until the blue waveform appears on the player’s screen. Then click on the green play button to stop and start the music (the space key is also supported). Besides, the waveform is interactive, thereby allowing you to browse through the current track. The rotating part (central part of the jog wheel) indicates the read position and other useful information.</p>
<p>What is this magic? Under the hood, this Shiny <a href="https://github.com/DivadNojnarg/OSUICode/tree/266ad20f450fdc6a8c939216287b6d67bc9e828d/inst/intro/dj-system">app</a> only consists of:</p>
<ul>
<li>111 lines of CSS.</li>
<li>29 lines of JavaScript code.</li>
<li>2 png images (dj gear + rotating wheel).</li>
<li>36 lines of R code, including the <a href="https://github.com/athospd/wavesurfer/issues">wavesurfer</a> htmlWidget <a href="https://github.com/Athospd/wavesurfer/tree/751705010865e263c2cedc9bea6630c1a5d47f09">package</a> to display the waveform.</li>
<li>Few custom HTML tags.</li>
<li>And is inspired by this <a href="https://codepen.io/ruise/pen/MVPgrQ">article</a>.</li>
</ul>
<p>We must acknowledge it is still far from offering the same features as the original professional DJ <a href="https://www.pioneerdj.com/en-gb/product/player/cdj-2000nxs2/black/overview/">gear</a>, but it is a fairly good start!</p>
<p>As you noticed, you will have to acquire a bit of HTML, CSS and JS knowledge to reach the same level of result. Guess what? This is exactly the purpose of this book!</p>
<p>Are you ready to become a Shiny wizard?</p>
</div>
<div id="web-intro-html" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> HTML 101<a class="anchor" aria-label="anchor" href="#web-intro-html"><i class="fas fa-link"></i></a>
</h2>
<p>This chapter provides a short introduction to the three main web languages, namely HTML, CSS and JavaScript. The following content is crucial to understand Chapter <a href="htmltools-overview.html#htmltools-overview">2</a> about HTML generation from R.</p>
<div id="html-basics" class="section level3" number="1.3.1">
<h3>
<span class="header-section-number">1.3.1</span> HTML basics<a class="anchor" aria-label="anchor" href="#html-basics"><i class="fas fa-link"></i></a>
</h3>
<p>HTML stands for (Hypertext Markup Language). An HTML file contains <strong>tags</strong> that may be divided into two types:</p>
<ul>
<li>
<strong>Paired</strong> tags, where the text is inserted between the opening and the closing tag.</li>
<li>
<strong>Self-closing</strong> tags.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="web-intro.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- paired-tags --&gt;</span></span>
<span id="cb5-2"><a href="web-intro.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;p&gt;&lt;/p&gt;</span></span>
<span id="cb5-3"><a href="web-intro.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div&gt;&lt;/div&gt;</span></span>
<span id="cb5-4"><a href="web-intro.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="web-intro.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- self-closing tags --&gt;</span></span>
<span id="cb5-6"><a href="web-intro.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;iframe/&gt;</span></span>
<span id="cb5-7"><a href="web-intro.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;img/&gt;</span></span>
<span id="cb5-8"><a href="web-intro.html#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;input/&gt;</span></span>
<span id="cb5-9"><a href="web-intro.html#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br/&gt;</span></span></code></pre></div>
<p>Tags may be divided into three categories, based on their role:</p>
<ul>
<li>
<strong>Structure</strong> tags: they constitute the skeleton of the HTML page (<code>&lt;title&gt;&lt;/title&gt;</code>, <code>&lt;head&gt;&lt;/head&gt;</code>, <code>&lt;body&gt;&lt;/body&gt;</code>).</li>
<li>
<strong>Control</strong> tags: script, inputs and buttons (and more). Their role is to include external resources, provide interactivity with the user.</li>
<li>
<strong>Formatting</strong> tags: to control some of the wrapped text properties like its size and font.</li>
</ul>
<p>Inside an HTML document, tag elements obey the <strong>box</strong> model, which briefly defines the element internal margins (padding), margins (space between multiple elements), the width and height. Elements are displayed according to the <strong>flow layout</strong> model (Figure <a href="web-intro.html#fig:normal-flow-layout">1.2</a>). We distinguish block and inline elements:</p>
<ul>
<li>
<strong>Block</strong> elements may contain other tags and take the full width (block or inline). <code>&lt;div&gt;&lt;/div&gt;</code> is the most commonly used block element. All elements of a block are printed on top of each other.</li>
<li>
<strong>Inline</strong> elements (<code>&lt;span&gt;&lt;/span&gt;</code>, <code>&lt;a&gt;&lt;/a&gt;</code>) are printed on the same line. They cannot contain block tags; for instance <code>&lt;span&gt;&lt;div&gt;&lt;p&gt;Hello World&lt;/p&gt;&lt;/div&gt;&lt;/span&gt;</code> is not valid, but may contain other nested inline tags like <code>&lt;a&gt;&lt;img/&gt;&lt;/a&gt;</code> (creates a clickable image pointing to a specific location).</li>
<li>
<strong>Inline-block</strong> elements allow one to insert a block element in an inline.</li>
</ul>
<div class="figure">
<span style="display:block;" id="fig:normal-flow-layout"></span>
<img src="images/intro/normal-flow-layout.png" alt="Flow layout and box model in an HTML document." width="100%"><p class="caption">
FIGURE 1.2: Flow layout and box model in an HTML document.
</p>
</div>
<p>Importantly, <code>&lt;div&gt;</code> and <code>&lt;span&gt;</code> are generic tags and don’t have any <strong>semantic</strong> meaning, contrary to <code>&lt;header&gt;</code> and <code>&lt;footer&gt;</code>, which allow developers to structure the HTML page, as depicted by Figure <a href="web-intro.html#fig:html-semantic-tags">1.3</a>. If you happen to insert a structural tag like <code>&lt;aside&gt;&lt;/aside&gt;</code> in a basic HTML document, it will not automatically create a sidebar. Instead, it helps to maintain a readable and meaningful code. If you wish to give a proper structure to the page, let’s meet below in section <a href="web-intro.html#html-and-css">1.3.5.1</a> and later in Chapter <a href="beautify-css.html#beautify-css">6</a>. <code>&lt;div&gt;</code> and <code>&lt;span&gt;</code> are used whenever no semantic block and inline container may be applied, respectively.</p>
<div class="figure">
<span style="display:block;" id="fig:html-semantic-tags"></span>
<img src="images/intro/html-semantic-tags.png" alt="Example of semantic tags in the {bs4Dash} Shiny Bootstrap 4 dashboard template." width="100%"><p class="caption">
FIGURE 1.3: Example of semantic tags in the {bs4Dash} Shiny Bootstrap 4 dashboard template.
</p>
</div>
</div>
<div id="tag-attributes" class="section level3" number="1.3.2">
<h3>
<span class="header-section-number">1.3.2</span> Tag attributes<a class="anchor" aria-label="anchor" href="#tag-attributes"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Attributes</strong> are text elements allowing developers to specify some tag properties. For instance for a link tag (<code>&lt;a&gt;&lt;/a&gt;</code>), we actually expect more than just the tag itself, such as a target url and how to open the new page. In all previous examples, tags don’t have any attributes. Yet, there exists a large range of attributes, and we will only see two of them for now (the reason is that these are the most commonly used in CSS and JavaScript):</p>
<ul>
<li>
<strong>class</strong> that may be shared between multiple tags.</li>
<li>
<strong>id</strong> that must be <strong>unique</strong>.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb6-1"><a href="web-intro.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">"awesome-item"</span> <span class="er">id</span><span class="ot">=</span><span class="st">"myitem"</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb6-2"><a href="web-intro.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- the class awesome-item may be applied to multiple tags --&gt;</span></span>
<span id="cb6-3"><a href="web-intro.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;span</span> <span class="er">class</span><span class="ot">=</span><span class="st">"awesome-item"</span><span class="kw">&gt;&lt;/span&gt;</span></span></code></pre></div>
<p>Both attributes are widely used by CSS and JavaScript to apply a custom style to a web page (see Chapter <a href="survival-kit-javascript.html#survival-kit-javascript">10</a>). Class attributes apply to multiple elements, however the id attribute is restricted to only one item.</p>
<p>Interestingly, there is another attribute category, know as <strong>non-standard attributes</strong> like <code>data-toggle</code>. We see them later in the book in Chapter <a href="custom-templates-skeleton.html#custom-templates-skeleton">17</a>.</p>
</div>
<div id="simplest-html-template" class="section level3" number="1.3.3">
<h3>
<span class="header-section-number">1.3.3</span> The simplest HTML skeleton<a class="anchor" aria-label="anchor" href="#simplest-html-template"><i class="fas fa-link"></i></a>
</h3>
<p>An HTML page is a collection of tags which are <strong>interpreted</strong> by the web browser step by step. The simplest HTML skeleton may be defined as follows:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb7-1"><a href="web-intro.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>HTML<span class="dt">&gt;</span></span>
<span id="cb7-2"><a href="web-intro.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">"en"</span><span class="kw">&gt;</span></span>
<span id="cb7-3"><a href="web-intro.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb7-4"><a href="web-intro.html#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- head content here --&gt;</span></span>
<span id="cb7-5"><a href="web-intro.html#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>A title<span class="kw">&lt;/title&gt;</span></span>
<span id="cb7-6"><a href="web-intro.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb7-7"><a href="web-intro.html#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb7-8"><a href="web-intro.html#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- body content here --&gt;</span></span>
<span id="cb7-9"><a href="web-intro.html#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb7-10"><a href="web-intro.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<ul>
<li>
<code>&lt;html&gt;</code> is the main wrapper.</li>
<li>
<code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> are the two main children.
<ul>
<li>
<code>&lt;head&gt;</code> contains dependencies like styles and JavaScript files (but not only).</li>
<li>
<code>&lt;body&gt;</code> contains the page content and it is displayed on the screen. JavaScript files are often added just before the end of the <code>&lt;body&gt;</code>.</li>
</ul>
</li>
</ul>
<div class="warningblock">
<p>Only the <strong>body</strong> content is <strong>displayed</strong> on the screen. W3C validation (<a href="https://validator.w3.org/#validate_by_input" class="uri">https://validator.w3.org/#validate_by_input</a>) imposes at least a <code>title</code> tag in the <code>head</code> section and a <code>lang</code> attribute to the <code>html</code> tag.</p>
</div>
<p>Let’s write the famous <code>Hello World</code> in HTML:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb8-1"><a href="web-intro.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>HTML<span class="dt">&gt;</span></span>
<span id="cb8-2"><a href="web-intro.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">"en"</span><span class="kw">&gt;</span></span>
<span id="cb8-3"><a href="web-intro.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb8-4"><a href="web-intro.html#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">&lt;!-- head content here --&gt;</span></span>
<span id="cb8-5"><a href="web-intro.html#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>A title<span class="kw">&lt;/title&gt;</span></span>
<span id="cb8-6"><a href="web-intro.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb8-7"><a href="web-intro.html#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb8-8"><a href="web-intro.html#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;p&gt;</span>Hello World<span class="kw">&lt;/p&gt;</span></span>
<span id="cb8-9"><a href="web-intro.html#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb8-10"><a href="web-intro.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>In order to preview this page in a web browser, you have to save the above snippet to a script <code>hello-world.html</code> and double-click on it. It will open with your default web browser.</p>
<p>Below is how we would do it with a Shiny app:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">p</a></span><span class="op">(</span><span class="st">"Hello World"</span><span class="op">)</span><span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>From outside, it looks identical! Are you sure about this? Let’s meet in Chapter <a href="web-dependencies.html#web-dependencies">3</a> to have a deeper look.</p>
</div>
<div id="about-the-document-object-model-dom" class="section level3" number="1.3.4">
<h3>
<span class="header-section-number">1.3.4</span> About the Document Object Model (DOM)<a class="anchor" aria-label="anchor" href="#about-the-document-object-model-dom"><i class="fas fa-link"></i></a>
</h3>
<p>The <strong>DOM</strong> stands for “Document Object Model” and is a convenient representation of the HTML document. If we consider the last <code>Hello World</code> example, the associated DOM <strong>tree</strong> may be inspected in Figure <a href="web-intro.html#fig:html-dom">1.4</a>.</p>
<div id="visualizing-the-dom-with-the-developer-tools" class="section level4" number="1.3.4.1">
<h4>
<span class="header-section-number">1.3.4.1</span> Visualizing the DOM with the developer tools<a class="anchor" aria-label="anchor" href="#visualizing-the-dom-with-the-developer-tools"><i class="fas fa-link"></i></a>
</h4>
<p>The developer tools are a crucial way to work with websites, and particularly customize Shiny apps. As shown in Figure <a href="web-intro.html#fig:html-dom">1.4</a>, here are example of actions you will be able to perform: inspect the HTML structure of the page, debug JavaScript code as demonstrated in <a href="survival-kit-javascript.html#shiny-js-inspector">10.6</a>, inspect served files (static assets like CSS, JS, images), run performances audit <a href="mobile-pwa.html#mobile-pwa">24</a>, inspect websocket activity (section <a href="shiny-intro.html#shiny-intro">11</a>) and many more.</p>
<p>In this section, we restrict the description to the first panel (Elements) of the <strong>developer tools</strong>. This feature is available in all web browsers; however, for demonstration purposes, we will only focus on the <a href="https://developers.google.com/web/tools/chrome-devtools">Chrome DevTools</a>. It may be opened:</p>
<ul>
<li>After a right click and selecting inspect.</li>
<li>After clicking on ctrl + shift (Maj) + I for Windows, option + command + I on Mac.</li>
</ul>
<p>In the following:</p>
<ul>
<li>Open the hello-world.html example with Chrome.</li>
<li>Right-click to open the HTML inspector (developer tools must be enabled if it is not the case).</li>
</ul>
<p>The HTML inspector is a convenient tool to explore the structure of the current HTML page. On the left-hand side, the DOM tree is displayed where we clearly see that <code>&lt;html&gt;</code> is the parent of <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code>. <code>&lt;body&gt;</code> has also one child, that is <code>&lt;p&gt;</code>. We may preview any style (CSS) associated with the selected element on the right panel as well as Event Listeners (JavaScript), which will be discussed later in the book.</p>
<div class="figure">
<span style="display:block;" id="fig:html-dom"></span>
<img src="images/survival-kit/dom.png" alt="Inspection of the DOM in the Hello World example." width="100%"><p class="caption">
FIGURE 1.4: Inspection of the DOM in the Hello World example.
</p>
</div>
</div>
<div id="web-inspector-101" class="section level4" number="1.3.4.2">
<h4>
<span class="header-section-number">1.3.4.2</span> Web Inspector 101<a class="anchor" aria-label="anchor" href="#web-inspector-101"><i class="fas fa-link"></i></a>
</h4>
<p>In the following, we enumerate key features of the inspector <code>Elements</code> tab. In addition to exploring the HTML <a href="https://developers.google.com/web/tools/chrome-devtools/dom">structure</a>, the inspector allows you to:</p>
<ul>
<li>Dynamically change CSS at run time.</li>
<li>Debug JavaScript code (put break points, …).</li>
<li>Run JavaScript code from the console.</li>
<li>Monitor any error or warning that may prevent your app or website from properly working.</li>
</ul>
<p>Another important feature is the ability to switch between different devices, especially mobile platforms and do a global performance audit with <a href="https://developers.google.com/web/tools/lighthouse">Google LightHouse</a>. The <a href="https://engineering-shiny.org/when-optimize.html#tools-for-profiling">book</a> from Colin Fay et al <span class="citation">(<a href="references.html#ref-thinkrShiny" role="doc-biblioref">Fay et al. 2020</a>)</span>. details the most relevant elements for Shiny app development.</p>
<p>We propose a set of quick exercises to review the most important HTML inspector capabilities that are commonly needed during Shiny app customization. We consider the app already defined above:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">p</a></span><span class="op">(</span><span class="st">"Hello World"</span><span class="op">)</span><span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
<div id="exercise-altering-the-dom-structure" class="section level5" number="1.3.4.2.1">
<h5>
<span class="header-section-number">1.3.4.2.1</span> Exercise: Altering the DOM structure<a class="anchor" aria-label="anchor" href="#exercise-altering-the-dom-structure"><i class="fas fa-link"></i></a>
</h5>
<ol style="list-style-type: decimal">
<li>Run the <code>Hello World</code> app, right-click on the only text element and select inspect.</li>
<li>Notice we could have done similarly by clicking on the very top-left corner <code>Inspect</code> icon (command + maj + C for Mac) and hovering over the <code>Hello World</code> text.</li>
</ol>
<p>You should see a result similar to Figure <a href="web-intro.html#fig:html-dom-inspect">1.5</a>, the <code>Inspect</code> icon being in blue. The selected element is highlighted, and a white box displays the main CSS properties like <code>text-color</code>, <code>font-size</code>, margins, as well as accessibility parameters.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:html-dom-inspect"></span>
<img src="images/survival-kit/dom-inspect.png" alt="Inspection of the p element in the Hello World example." width="100%"><p class="caption">
FIGURE 1.5: Inspection of the p element in the Hello World example.
</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>In the <code>Elements</code> panel, double-click between the <code>&lt;p&gt;</code> and <code>&lt;/p&gt;</code> tags to edit the current text. Press enter when finished.</li>
<li>Let’s add some children to our <code>p</code> tag. Right-click and select the <code>Edit as HTML</code> option. You may enter any valid HTML code inside. Don’t forget about some rules relative to inline and block tags (inline tags cannot contain block tags!!!).</li>
</ol>
<p>As depicted in Figure <a href="web-intro.html#fig:html-dom-edit">1.6</a>, we could have done a right click on the <code>p</code> tag to display more options like:</p>
<ul>
<li>
<strong>Add/edit</strong> an attribute. You may try to add a class <code>class="awesome-text"</code> and an id <code>id="only-text"</code>.</li>
<li>
<strong>Delete</strong> the current tag (the <code>delete</code> key would do it as well).</li>
<li>
<strong>Copy</strong> the element with all nested elements.</li>
<li>Only copy the outside HTML (ignore nested elements).</li>
<li>
<strong>Extract</strong> the CSS selector or JavaScript path (code to select the element): <code>body &gt; div &gt; p</code> and <code>document.querySelector("body &gt; div &gt; p")</code>, respectively. These two features are extremely handy as they save you time. Try to copy and paste <code>document.querySelector("body &gt; div &gt; p")</code> in the JavaScript console at the bottom of the inspector window. It returns the selected HTML element, as shown in Figure <a href="web-intro.html#fig:html-dom-js-path">1.7</a>! Amazing isn’t it?</li>
<li>
<strong>Hide</strong> the element.</li>
<li>
<strong>Force</strong> a specific state. For instance buttons may be <code>active</code>, <code>inactive</code>. We talk more about this in section <a href="beautify-css.html#css-pseudo-classes">6.2.4.3.2</a>.</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:html-dom-edit"></span>
<img src="images/survival-kit/dom-edit.png" alt="Modifications of the p element in the Hello World example." width="40%"><p class="caption">
FIGURE 1.6: Modifications of the p element in the Hello World example.
</p>
</div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:html-dom-js-path"></span>
<img src="images/survival-kit/dom-js-path.png" alt="Extract the JavaScript path to select the p element." width="80%"><p class="caption">
FIGURE 1.7: Extract the JavaScript path to select the p element.
</p>
</div>
<p>Whenever you are looking for a specific tag in a more complex page, the <code>search tag</code> option is a game changer (Ctrl + F on Windows, command + F within the Elements tab on a Mac). See Figure <a href="web-intro.html#fig:html-dom-search">1.8</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:html-dom-search"></span>
<img src="images/survival-kit/dom-search.png" alt="Search for element having the awesome-text class." width="50%"><p class="caption">
FIGURE 1.8: Search for element having the awesome-text class.
</p>
</div>
<p>Finally, the inspector toolkit allows you to reorder DOM elements with a rather intuitive drag and drop feature. I invite the reader to take some time to experiment with those features as they will be crucial in the next chapters, particularly Chapter <a href="beautify-css.html#beautify-css">6</a>.</p>
</div>
</div>
</div>
<div id="preliminary-introduction-to-css-and-javascript" class="section level3" number="1.3.5">
<h3>
<span class="header-section-number">1.3.5</span> Preliminary introduction to CSS and JavaScript<a class="anchor" aria-label="anchor" href="#preliminary-introduction-to-css-and-javascript"><i class="fas fa-link"></i></a>
</h3>
<p>To introduce this section, I propose looking at the very first website, early in the 1990’s (August 1991 exactly). From an aesthetic point of view (see Figure <a href="web-intro.html#fig:www-first">1.9</a>), this is far from what we can observe today as shown in Figure <a href="web-intro.html#fig:www-rinterface">1.10</a>.</p>
<div class="figure">
<span style="display:block;" id="fig:www-first"></span>
<img src="images/survival-kit/www-first.png" alt="World Wide Web website." width="100%"><p class="caption">
FIGURE 1.9: World Wide Web website.
</p>
</div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:www-rinterface"></span>
<img src="images/survival-kit/www-rinterface.png" alt="RinteRface website: (https://rinterface.com)." width="80%"><p class="caption">
FIGURE 1.10: RinteRface website: (<a href="https://rinterface.com" class="uri">https://rinterface.com</a>).
</p>
</div>
<!-- How does explaining this history help the reader? -->
<p>How can we explain that difference? One of the main reasons is the absence of CSS (Cascading Style Sheets) as the first CSS release only appeared in December 1996, that is five years later than the first web site publication. CSS allows you to deeply customize the appearance of any web page by changing colors, fonts, margins and much more. We acknowledge that the role of JavaScript cannot be demonstrated through the previous example. Yet its impact is as important as CSS, so that it is now impossible to dissociate HTML, CSS and JavaScript.</p>
<div id="html-and-css" class="section level4" number="1.3.5.1">
<h4>
<span class="header-section-number">1.3.5.1</span> HTML and CSS<a class="anchor" aria-label="anchor" href="#html-and-css"><i class="fas fa-link"></i></a>
</h4>
<p>CSS changes the style of HTML tags by targeting specific classes or ids. For instance, if we want all <code>p</code> tags to have red color we use:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb11-1"><a href="web-intro.html#cb11-1" aria-hidden="true" tabindex="-1"></a>p {</span>
<span id="cb11-2"><a href="web-intro.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">color</span>: <span class="cn">red</span><span class="op">;</span></span>
<span id="cb11-3"><a href="web-intro.html#cb11-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>To include CSS in an HTML page, we use the <code>&lt;style&gt;</code> tag as follows:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb12-1"><a href="web-intro.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>HTML<span class="dt">&gt;</span></span>
<span id="cb12-2"><a href="web-intro.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">"en"</span><span class="kw">&gt;</span></span>
<span id="cb12-3"><a href="web-intro.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb12-4"><a href="web-intro.html#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;style</span> <span class="er">type</span><span class="ot">=</span><span class="st">"text/css"</span><span class="kw">&gt;</span></span>
<span id="cb12-5"><a href="web-intro.html#cb12-5" aria-hidden="true" tabindex="-1"></a>      p {</span>
<span id="cb12-6"><a href="web-intro.html#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">color</span>: <span class="cn">red</span><span class="op">;</span></span>
<span id="cb12-7"><a href="web-intro.html#cb12-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb12-8"><a href="web-intro.html#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/style&gt;</span></span>
<span id="cb12-9"><a href="web-intro.html#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>A title<span class="kw">&lt;/title&gt;</span></span>
<span id="cb12-10"><a href="web-intro.html#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb12-11"><a href="web-intro.html#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb12-12"><a href="web-intro.html#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;p&gt;</span>Hello World<span class="kw">&lt;/p&gt;</span></span>
<span id="cb12-13"><a href="web-intro.html#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb12-14"><a href="web-intro.html#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>You may update the hello-world.html script and run it in your web browser to see the difference. The example may be slight but shows how we may control the look and feel of the display. In a development context, CSS files may so big that it is better to include them in external files.</p>
<!-- Would be good to show how you can use the web inspector to experiment interactively -->
<p>Let’s build a Shiny app that does similar things. As a reminder, you may use <code>tags$style</code> to include small pieces of CSS in your app:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="va">tags</span><span class="op">$</span><span class="fu">style</span><span class="op">(</span><span class="st">"p { color: red;}"</span><span class="op">)</span>,
  <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">p</a></span><span class="op">(</span><span class="st">"Hello World"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>Be prepared! In Chapter <a href="beautify-css.html#beautify-css">6</a>, we’ll dive into CSS and expose best practices.</p>
</div>
<div id="html-and-javascript" class="section level4" number="1.3.5.2">
<h4>
<span class="header-section-number">1.3.5.2</span> HTML and JavaScript<a class="anchor" aria-label="anchor" href="#html-and-javascript"><i class="fas fa-link"></i></a>
</h4>
<p>JavaScript is a game changer to give life to your web apps. It is an object-oriented programming (OOP) language allowing interaction with the HTML elements.</p>
<p>In the following example, we defined the <code>changeColor</code> function that targets the element having <code>hello</code> id and change its color property to green. The HTML element has an <code>onClick</code> attribute that triggers the <code>changeColor</code> function each time the button is clicked.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb14-1"><a href="web-intro.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>HTML<span class="dt">&gt;</span></span>
<span id="cb14-2"><a href="web-intro.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">"en"</span><span class="kw">&gt;</span></span>
<span id="cb14-3"><a href="web-intro.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb14-4"><a href="web-intro.html#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;style</span> <span class="er">type</span><span class="ot">=</span><span class="st">"text/css"</span><span class="kw">&gt;</span></span>
<span id="cb14-5"><a href="web-intro.html#cb14-5" aria-hidden="true" tabindex="-1"></a>      p {</span>
<span id="cb14-6"><a href="web-intro.html#cb14-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">color</span>: <span class="cn">red</span><span class="op">;</span></span>
<span id="cb14-7"><a href="web-intro.html#cb14-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-8"><a href="web-intro.html#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/style&gt;</span></span>
<span id="cb14-9"><a href="web-intro.html#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;script</span> <span class="er">language</span><span class="ot">=</span><span class="st">"javascript"</span><span class="kw">&gt;</span></span>
<span id="cb14-10"><a href="web-intro.html#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">// displays an alert </span></span>
<span id="cb14-11"><a href="web-intro.html#cb14-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">alert</span>(<span class="st">'Click on the Hello World text!'</span>)<span class="op">;</span></span>
<span id="cb14-12"><a href="web-intro.html#cb14-12" aria-hidden="true" tabindex="-1"></a>      <span class="co">// change text color</span></span>
<span id="cb14-13"><a href="web-intro.html#cb14-13" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> <span class="fu">changeColor</span>(color){</span>
<span id="cb14-14"><a href="web-intro.html#cb14-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'hello'</span>)<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> color<span class="op">;</span></span>
<span id="cb14-15"><a href="web-intro.html#cb14-15" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-16"><a href="web-intro.html#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/script&gt;</span></span>
<span id="cb14-17"><a href="web-intro.html#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>A title<span class="kw">&lt;/title&gt;</span></span>
<span id="cb14-18"><a href="web-intro.html#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb14-19"><a href="web-intro.html#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb14-20"><a href="web-intro.html#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">&lt;!-- onclick attributes applies the JavaScript </span></span>
<span id="cb14-21"><a href="web-intro.html#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="co">    function changeColor define above --&gt;</span></span>
<span id="cb14-22"><a href="web-intro.html#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;p</span> <span class="er">id</span><span class="ot">=</span><span class="st">"hello"</span> <span class="er">onclick</span><span class="ot">=</span><span class="st">"changeColor('green')"</span><span class="kw">&gt;</span>Hello World<span class="kw">&lt;/p&gt;</span></span>
<span id="cb14-23"><a href="web-intro.html#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb14-24"><a href="web-intro.html#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>In a few lines of code, you can change the color of the text and this is only the beginning.</p>
<p>We see below that the process is not dramatically different in a Shiny app. We wrap our custom JavaScript in the <code>tags$script</code> function, as below:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="va">tags</span><span class="op">$</span><span class="fu">script</span><span class="op">(</span>
    <span class="st">"alert('Click on the Hello World text!');
     // change text color
     function changeColor(color){
       document.getElementById('hello').style.color = color;
     }
    "</span>
  <span class="op">)</span>,
  <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">p</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"hello"</span>, onclick<span class="op">=</span><span class="st">"changeColor('green')"</span>, <span class="st">"Hello World"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>If you are not already familiar with JS, Chapter <a href="survival-kit-javascript.html#survival-kit-javascript">10</a> provides some basic knowledge to unleash interactivity in your Shiny apps.</p>
</div>
</div>
</div>
<div id="summary" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Summary<a class="anchor" aria-label="anchor" href="#summary"><i class="fas fa-link"></i></a>
</h2>
<p>As demonstrated above, developing a Shiny app is basically building a website from R and is completely compatible with the web languages, that is, HTML, CSS and JavaScript. In the next chapter, we’ll discover how to manipulate HTML tags from R with the help of <a href="https://github.com/rstudio/htmltools">htmltools</a> <span class="citation">(<a href="references.html#ref-R-htmltools" role="doc-biblioref">Cheng, Sievert, et al. 2021</a>)</span>, to seamlessly customize any existing Shiny element but also import any external HTML template.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="foreword.html">Foreword</a></div>
<div class="next"><a href="htmltools-overview.html"><span class="header-section-number">2</span> Manipulate HTML tags from R with {htmltools}</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#web-intro"><span class="header-section-number">1</span> Shiny and the Web</a></li>
<li><a class="nav-link" href="#shiny-generates-html-code-from-r"><span class="header-section-number">1.1</span> Shiny generates HTML code from R</a></li>
<li><a class="nav-link" href="#be-a-dj"><span class="header-section-number">1.2</span> Be a DJ</a></li>
<li>
<a class="nav-link" href="#web-intro-html"><span class="header-section-number">1.3</span> HTML 101</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#html-basics"><span class="header-section-number">1.3.1</span> HTML basics</a></li>
<li><a class="nav-link" href="#tag-attributes"><span class="header-section-number">1.3.2</span> Tag attributes</a></li>
<li><a class="nav-link" href="#simplest-html-template"><span class="header-section-number">1.3.3</span> The simplest HTML skeleton</a></li>
<li><a class="nav-link" href="#about-the-document-object-model-dom"><span class="header-section-number">1.3.4</span> About the Document Object Model (DOM)</a></li>
<li><a class="nav-link" href="#preliminary-introduction-to-css-and-javascript"><span class="header-section-number">1.3.5</span> Preliminary introduction to CSS and JavaScript</a></li>
</ul>
</li>
<li><a class="nav-link" href="#summary"><span class="header-section-number">1.4</span> Summary</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/DivadNojnarg/outstanding-shiny-ui/blob/master/web-intro.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/DivadNojnarg/outstanding-shiny-ui/edit/master/web-intro.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Outstanding User Interfaces with Shiny</strong>" was written by David Granjon. It was last built on 2022-02-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
