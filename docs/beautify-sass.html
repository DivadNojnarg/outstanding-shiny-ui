<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 7 Introduction to Sass | Outstanding User Interfaces with Shiny</title>
<meta name="author" content="David Granjon">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.9002/transition.js"></script><script src="libs/bs3compat-0.2.5.9002/tabs.js"></script><script src="libs/bs3compat-0.2.5.9002/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Outstanding User Interfaces with Shiny</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="foreword.html">Foreword</a></li>
<li class="book-part">Introduction</li>
<li><a class="" href="web-intro.html"><span class="header-section-number">1</span> Shiny and the Web</a></li>
<li><a class="" href="htmltools-overview.html"><span class="header-section-number">2</span> Mastering {htmltools}</a></li>
<li><a class="" href="web-dependencies.html"><span class="header-section-number">3</span> Discover Shiny dependencies</a></li>
<li><a class="" href="htmltools-dependencies.html"><span class="header-section-number">4</span> Dependency utilities</a></li>
<li><a class="" href="web-applications.html"><span class="header-section-number">5</span> Web application concepts</a></li>
<li class="book-part">Beautify with CSS and Sass</li>
<li><a class="" href="beautify-css.html"><span class="header-section-number">6</span> CSS for Shiny</a></li>
<li><a class="active" href="beautify-sass.html"><span class="header-section-number">7</span> Introduction to Sass</a></li>
<li><a class="" href="beautify-with-fresh.html"><span class="header-section-number">8</span> Beautify with {fresh}</a></li>
<li><a class="" href="beautify-with-bootstraplib.html"><span class="header-section-number">9</span> Beautify with {bslib}</a></li>
<li class="book-part">Unleash interactivity with JavaScript</li>
<li><a class="" href="survival-kit-javascript.html"><span class="header-section-number">10</span> JavaScript for Shiny</a></li>
<li><a class="" href="shiny-intro.html"><span class="header-section-number">11</span> R and JS</a></li>
<li><a class="" href="shiny-input-system.html"><span class="header-section-number">12</span> Shiny’s input system</a></li>
<li><a class="" href="shiny-input-lifecycle.html"><span class="header-section-number">13</span> Shiny inputs lifecycles</a></li>
<li><a class="" href="shiny-input-gems.html"><span class="header-section-number">14</span> Mastering Shiny’s events</a></li>
<li><a class="" href="shiny-custom-handler.html"><span class="header-section-number">15</span> Dynamically manage content with handlers</a></li>
<li class="book-part">Practice 1: a dashboard template</li>
<li><a class="" href="custom-templates-dependencies.html"><span class="header-section-number">16</span> Define dependencies</a></li>
<li><a class="" href="custom-templates-skeleton.html"><span class="header-section-number">17</span> Create template elements</a></li>
<li><a class="" href="custom-templates-inputs.html"><span class="header-section-number">18</span> Develop custom input widgets</a></li>
<li><a class="" href="custom-templates-interactivity.html"><span class="header-section-number">19</span> Adding more interactivity</a></li>
<li><a class="" href="custom-templates-testing.html"><span class="header-section-number">20</span> Testing and validating templates elements</a></li>
<li class="book-part">Toward a better workflow</li>
<li><a class="" href="workflow-charpente.html"><span class="header-section-number">21</span> Introduction to {charpente}</a></li>
<li class="book-part">Case study 2: Mobile development with Shiny</li>
<li><a class="" href="mobile-shiny-intro.html"><span class="header-section-number">22</span> Introduction</a></li>
<li><a class="" href="mobile-shinyMobile.html"><span class="header-section-number">23</span> Reconstruct {shinyMobile}</a></li>
<li><a class="" href="mobile-pwa.html"><span class="header-section-number">24</span> {shinyMobile} and PWA</a></li>
<li><a class="" href="mobile-widgets.html"><span class="header-section-number">25</span> Design widgets</a></li>
<li><a class="" href="mobile-going-further.html"><span class="header-section-number">26</span> Fine tune {shinyMobile}</a></li>
<li class="book-part">Going further</li>
<li><a class="" href="going-further-reactR.html"><span class="header-section-number">27</span> R + Shiny + React: welcome {reactR}</a></li>
<li><a class="" href="going-further-where-to-go.html"><span class="header-section-number">28</span> What to do next?</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="code-outputs.html"><span class="header-section-number">A</span> Code outputs</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/DivadNojnarg/outstanding-shiny-ui">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="beautify-sass" class="section level1">
<h1>
<span class="header-section-number">7</span> Introduction to Sass<a class="anchor" aria-label="anchor" href="#beautify-sass"><i class="fas fa-link"></i></a>
</h1>
<p>One of the main problem with <strong>CSS</strong> is to handle the growing number of files and the <strong>code repetition</strong>. Nowadays, web developers mainly use <strong>CSS pre processors</strong> like <a href="https://sass-lang.com/guide">Sass</a>, that stands for “Syntactically Awesome Style Sheets”, providing access to variables, mathematical operators, functions and loops, thereby reducing the code complexity and extending the possibilities. <a href="https://rstudio.com">RStudio</a> developed the <a href="https://rstudio.github.io/sass/articles/sass.html">{sass}</a> package <span class="citation">(Cheng, Mastny, et al. <a href="references.html#ref-R-sass" role="doc-biblioref">2021</a>)</span>, which makes it possible to use <strong>Sass</strong> in Shiny apps or Rmarkdown documents.</p>
<div id="getting-started-with-sass" class="section level2">
<h2>
<span class="header-section-number">7.1</span> Getting started with Sass<a class="anchor" aria-label="anchor" href="#getting-started-with-sass"><i class="fas fa-link"></i></a>
</h2>
<p>While we could use Sass from the terminal, we leverage the <a href="https://rstudio.github.io/sass/">sass</a> package features to work from R.
To install <a href="https://rstudio.github.io/sass/">sass</a>, we run:</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"sass"</span><span class="op">)</span>
<span class="co"># OR</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"rstudio/sass"</span><span class="op">)</span></code></pre></div>
<p>The main function is <code><a href="https://rstudio.github.io/sass//reference/sass.html">sass()</a></code>, whose <strong>input</strong> parameter accepts:</p>
<ul>
<li>A R string like <code>a { color: pink}</code>.</li>
<li>A named <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>.</li>
<li>A file passed with <code><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_file()</a></code>, imports with <code><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_import()</a></code>.</li>
<li>More complex structures.</li>
</ul>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/sass/">sass</a></span><span class="op">)</span>
<span class="co"># with a string</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>input <span class="op">=</span> <span class="st">".element-class { color: pink;}"</span><span class="op">)</span>
<span class="co"># with named list</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"pink"</span>, <span class="st">".element-class { color: $color;}"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .element-class {
#&gt;   color: pink;
#&gt; }</code></pre>
<p>Note how the R code objects are seamlessly converted to Sass variable. For convenience, we will be using named lists in the remaining of the book.</p>
<div id="variables" class="section level3">
<h3>
<span class="header-section-number">7.1.1</span> Variables<a class="anchor" aria-label="anchor" href="#variables"><i class="fas fa-link"></i></a>
</h3>
<p>Let us consider the following example, where two different classes have the same color:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb256-1"><a href="beautify-sass.html#cb256-1"></a><span class="fu">.class-1</span>{</span>
<span id="cb256-2"><a href="beautify-sass.html#cb256-2"></a>  <span class="kw">color</span>: <span class="cn">#33BEFF</span><span class="op">;</span></span>
<span id="cb256-3"><a href="beautify-sass.html#cb256-3"></a>}</span>
<span id="cb256-4"><a href="beautify-sass.html#cb256-4"></a></span>
<span id="cb256-5"><a href="beautify-sass.html#cb256-5"></a><span class="fu">.class-2</span>{</span>
<span id="cb256-6"><a href="beautify-sass.html#cb256-6"></a>  <span class="kw">background-color</span>: <span class="cn">#33BEFF</span><span class="op">;</span></span>
<span id="cb256-7"><a href="beautify-sass.html#cb256-7"></a>}</span></code></pre></div>
<p>Shouldn’t this be easier? Imagine if we had hundreds of elements with the same color.
What happens in case the color changes? Do we have to update all properties by hand?</p>
<p>If we let the Sass variable <code>$color</code>:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb257-1"><a href="beautify-sass.html#cb257-1"></a>$color<span class="in">: purple</span>;</span>
<span id="cb257-2"><a href="beautify-sass.html#cb257-2"></a><span class="fu">.class-1</span>{</span>
<span id="cb257-3"><a href="beautify-sass.html#cb257-3"></a>  <span class="kw">color</span>: $color<span class="op">;</span></span>
<span id="cb257-4"><a href="beautify-sass.html#cb257-4"></a>}</span>
<span id="cb257-5"><a href="beautify-sass.html#cb257-5"></a><span class="fu">.class-2</span>{</span>
<span id="cb257-6"><a href="beautify-sass.html#cb257-6"></a>  <span class="kw">background-color</span>: $color<span class="op">;</span></span>
<span id="cb257-7"><a href="beautify-sass.html#cb257-7"></a>}</span></code></pre></div>
<p>we can quickly solve that problem. With <a href="https://rstudio.github.io/sass/">sass</a>, we define one variable holding the color as well as
our two rules, so that we obtain:</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rule1</span> <span class="op">&lt;-</span> <span class="st">".class-1{ color: $color; }"</span>
<span class="va">rule2</span> <span class="op">&lt;-</span> <span class="st">".class-2{ background-color: $color; }"</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"purple"</span>, <span class="va">rule1</span>, <span class="va">rule2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .class-1 {
#&gt;   color: purple;
#&gt; }
#&gt; 
#&gt; .class-2 {
#&gt;   background-color: purple;
#&gt; }</code></pre>
<div class="noteblock">
<p>Add the <strong>default!</strong> tag after the variable definition, if you want
to let others modify it, that is <code>"$color: purple !default;"</code>.</p>
</div>
</div>
<div id="partials-and-modules" class="section level3">
<h3>
<span class="header-section-number">7.1.2</span> Partials and Modules<a class="anchor" aria-label="anchor" href="#partials-and-modules"><i class="fas fa-link"></i></a>
</h3>
<p>It is best practice to save useful code snippets in one place, and reuse them
at anytime and anywhere. Sass allows to define <strong>partials</strong>, like <code>_partial.css</code>, with the leading
underscore, which avoids it to be converted into CSS. Partials are subsequently called
with <code>@import &lt;PARTIAL_NAME&gt;</code> (you may also find <code>@use</code>, the latter not being handled
by <code>LibSass</code>, which fuels<a href="https://rstudio.github.io/sass/">sass</a>), thereby significantly reducing code duplication.</p>
<p>Modules are pieces of Sass files that are later converted into CSS, reducing file size to a minimum.
Below is an example of the <code>bootstrap.scss</code> <a href="https://github.com/twbs/bootstrap/blob/main/scss/bootstrap.scss">file</a>:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb260-1"><a href="beautify-sass.html#cb260-1"></a><span class="co">/*!</span></span>
<span id="cb260-2"><a href="beautify-sass.html#cb260-2"></a><span class="co"> * Bootstrap v5.0.0-beta1 (https://getbootstrap.com/)</span></span>
<span id="cb260-3"><a href="beautify-sass.html#cb260-3"></a><span class="co"> ...</span></span>
<span id="cb260-4"><a href="beautify-sass.html#cb260-4"></a><span class="co">*/</span></span>
<span id="cb260-5"><a href="beautify-sass.html#cb260-5"></a></span>
<span id="cb260-6"><a href="beautify-sass.html#cb260-6"></a><span class="er">// scss-docs-start import-stack</span></span>
<span id="cb260-7"><a href="beautify-sass.html#cb260-7"></a><span class="er">// Configuration</span></span>
<span id="cb260-8"><a href="beautify-sass.html#cb260-8"></a><span class="im">@import</span> <span class="st">"functions"</span><span class="op">;</span></span>
<span id="cb260-9"><a href="beautify-sass.html#cb260-9"></a><span class="im">@import</span> <span class="st">"variables"</span><span class="op">;</span></span>
<span id="cb260-10"><a href="beautify-sass.html#cb260-10"></a><span class="im">@import</span> <span class="st">"mixins"</span><span class="op">;</span></span>
<span id="cb260-11"><a href="beautify-sass.html#cb260-11"></a><span class="im">@import</span> <span class="st">"utilities"</span><span class="op">;</span></span>
<span id="cb260-12"><a href="beautify-sass.html#cb260-12"></a></span>
<span id="cb260-13"><a href="beautify-sass.html#cb260-13"></a><span class="er">// Layout &amp; components</span></span>
<span id="cb260-14"><a href="beautify-sass.html#cb260-14"></a><span class="im">@import</span> <span class="st">"root"</span><span class="op">;</span></span>
<span id="cb260-15"><a href="beautify-sass.html#cb260-15"></a><span class="im">@import</span> <span class="st">"reboot"</span><span class="op">;</span></span>
<span id="cb260-16"><a href="beautify-sass.html#cb260-16"></a><span class="fu">...</span></span>
<span id="cb260-17"><a href="beautify-sass.html#cb260-17"></a></span>
<span id="cb260-18"><a href="beautify-sass.html#cb260-18"></a><span class="er">// Helpers</span></span>
<span id="cb260-19"><a href="beautify-sass.html#cb260-19"></a><span class="im">@import</span> <span class="st">"helpers"</span><span class="op">;</span></span>
<span id="cb260-20"><a href="beautify-sass.html#cb260-20"></a></span>
<span id="cb260-21"><a href="beautify-sass.html#cb260-21"></a><span class="er">// Utilities</span></span>
<span id="cb260-22"><a href="beautify-sass.html#cb260-22"></a><span class="im">@import</span> <span class="st">"utilities/api"</span><span class="op">;</span></span>
<span id="cb260-23"><a href="beautify-sass.html#cb260-23"></a><span class="er">// scss-docs-end import-stack</span></span></code></pre></div>
<p>which is easier to read and maintain than the original <code>bootstrap.css</code> with 10717 lines of code!
In practice, we often end up with a main Sass file and compile it as follows:</p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_file</a></span><span class="op">(</span><span class="st">"main.scss"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="mixins-and-functions" class="section level3">
<h3>
<span class="header-section-number">7.1.3</span> Mixins and Functions<a class="anchor" aria-label="anchor" href="#mixins-and-functions"><i class="fas fa-link"></i></a>
</h3>
<p>Another great advantage of Sass is the ability to generate reusable units of code, also known
as <strong>mixins</strong> or <strong>functions</strong>.</p>
<div id="mixins" class="section level4">
<h4>
<span class="header-section-number">7.1.3.1</span> Mixins<a class="anchor" aria-label="anchor" href="#mixins"><i class="fas fa-link"></i></a>
</h4>
<p>To make a 90 degrees rotation in CSS, we have to write:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb262-1"><a href="beautify-sass.html#cb262-1"></a><span class="fu">.element</span> {</span>
<span id="cb262-2"><a href="beautify-sass.html#cb262-2"></a>  <span class="kw">-webkit-transform</span>: <span class="fu">rotate(</span><span class="dv">90</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb262-3"><a href="beautify-sass.html#cb262-3"></a>  <span class="kw">-ms-transform</span>: <span class="fu">rotate(</span><span class="dv">90</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb262-4"><a href="beautify-sass.html#cb262-4"></a>  <span class="kw">transform</span>: <span class="fu">rotate(</span><span class="dv">90</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb262-5"><a href="beautify-sass.html#cb262-5"></a>}</span></code></pre></div>
<p>which is already tedious. Mixins allow to encapsulate the logic into a <strong>reusable</strong> unit:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb263-1"><a href="beautify-sass.html#cb263-1"></a><span class="im">@mixin</span> transform<span class="fu">(</span>$property<span class="op">,</span> <span class="dv">...</span><span class="fu">)</span> {</span>
<span id="cb263-2"><a href="beautify-sass.html#cb263-2"></a>  <span class="kw">-webkit-transform</span>: $property<span class="op">;</span></span>
<span id="cb263-3"><a href="beautify-sass.html#cb263-3"></a>  <span class="kw">-ms-transform</span>: $property<span class="op">;</span></span>
<span id="cb263-4"><a href="beautify-sass.html#cb263-4"></a>  <span class="kw">transform</span>: $property<span class="op">;</span></span>
<span id="cb263-5"><a href="beautify-sass.html#cb263-5"></a>}</span>
<span id="cb263-6"><a href="beautify-sass.html#cb263-6"></a></span>
<span id="cb263-7"><a href="beautify-sass.html#cb263-7"></a><span class="fu">.element1</span> {</span>
<span id="cb263-8"><a href="beautify-sass.html#cb263-8"></a>  <span class="im">@include</span> transform<span class="fu">(</span>rotate(<span class="dv">90</span><span class="dt">deg</span><span class="fu">)</span>)<span class="op">;</span></span>
<span id="cb263-9"><a href="beautify-sass.html#cb263-9"></a>}</span></code></pre></div>
<p>The mixin starts with a <code>@mixin</code> keyword followed by its name and parameters.
It is called with <code>@include &lt;MIXIN_NAME(PARMS)&gt;</code>, very similar to a function declaration, excepts that
it must return a CSS rule.</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mixin</span> <span class="op">&lt;-</span> <span class="st">"@mixin transform($property) {
  -webkit-transform: $property;
  -ms-transform: $property;
  transform: $property;
}"</span>
<span class="va">rule</span> <span class="op">&lt;-</span> <span class="st">".element1 { @include transform($prop); }"</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="st">"rotate(90deg)"</span>, <span class="va">mixin</span>, <span class="va">rule</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .element1 {
#&gt;   -webkit-transform: rotate(90deg);
#&gt;   -ms-transform: rotate(90deg);
#&gt;   transform: rotate(90deg);
#&gt; }</code></pre>
</div>
<div id="functions" class="section level4">
<h4>
<span class="header-section-number">7.1.3.2</span> Functions<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h4>
<p>Sass offers many built-In <a href="https://sass-lang.com/documentation/modules">modules</a> containing
ready to use functions for colors, numbers, strings, lists, maps, … Some functions like
<code>rgb</code> are global, so that we don’t have to import the corresponding module.</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span><span class="st">".pouet { color: rgb(0, 255, 0); }"</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .pouet {
#&gt;   color: lime;
#&gt; }</code></pre>
<p>It is definitely possible to design custom functions with <code>@function</code>,
whose syntax is very close the mixins:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb268-1"><a href="beautify-sass.html#cb268-1"></a><span class="im">@function</span> name<span class="fu">(</span>$parm1<span class="op">,</span> $parm2<span class="fu">)</span> {</span>
<span id="cb268-2"><a href="beautify-sass.html#cb268-2"></a>  <span class="co">/* logic */</span></span>
<span id="cb268-3"><a href="beautify-sass.html#cb268-3"></a>  <span class="im">@return</span> value<span class="op">;</span></span>
<span id="cb268-4"><a href="beautify-sass.html#cb268-4"></a>}</span></code></pre></div>
<p>While debugging functions, it might be useful to capture intermediate elements.
<code>@debug</code> allows this:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb269-1"><a href="beautify-sass.html#cb269-1"></a>$test<span class="in">: 1;</span></span>
<span id="cb269-2"><a href="beautify-sass.html#cb269-2"></a><span class="im">@debug</span> test<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    a <span class="op">=</span> <span class="fl">2</span>,
    b <span class="op">=</span> <span class="fl">4</span>,
    <span class="st">"@function multiply($parm1, $parm2) {
      @debug 'parm1 is #{$parm1}';
      @debug 'parm2 is #{$parm2}';

      @return $parm1 * $parm2;
    }"</span>,
    <span class="st">".my-class {
      width: multiply($a, $b) * 1px;
    }"</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .my-class {
#&gt;   width: 8px;
#&gt; }</code></pre>
<p>Notice the use of <strong>mathematical operators</strong> like <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code> and <code>%</code>, which is not possible with CSS.</p>
</div>
</div>
<div id="extendinheritance" class="section level3">
<h3>
<span class="header-section-number">7.1.4</span> Extend/Inheritance<a class="anchor" aria-label="anchor" href="#extendinheritance"><i class="fas fa-link"></i></a>
</h3>
<p>We consider two alerts with the color as only difference. As we can’t capture multiple properties
inside one single Sass variable, we introduce the <strong>extend</strong> concept, which permits to import
CSS properties inside multiple rules. We first define a generic <code>alerts-common</code> rule,
prefixed by the <code>%</code> symbol. It contains several rules and variables:</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb272-1"><a href="beautify-sass.html#cb272-1"></a>%alerts-common {</span>
<span id="cb272-2"><a href="beautify-sass.html#cb272-2"></a>  <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb272-3"><a href="beautify-sass.html#cb272-3"></a>  <span class="kw">padding</span>: $alert-padding-y $alert-padding-x<span class="op">;</span></span>
<span id="cb272-4"><a href="beautify-sass.html#cb272-4"></a>  <span class="kw">margin-bottom</span>: $alert-margin-bottom<span class="op">;</span></span>
<span id="cb272-5"><a href="beautify-sass.html#cb272-5"></a>}</span>
<span id="cb272-6"><a href="beautify-sass.html#cb272-6"></a></span>
<span id="cb272-7"><a href="beautify-sass.html#cb272-7"></a></span>
<span id="cb272-8"><a href="beautify-sass.html#cb272-8"></a><span class="fu">.alert-red</span> {</span>
<span id="cb272-9"><a href="beautify-sass.html#cb272-9"></a>  <span class="im">@extend</span> %alerts-common<span class="op">;</span></span>
<span id="cb272-10"><a href="beautify-sass.html#cb272-10"></a>  <span class="kw">color</span>: <span class="cn">red</span><span class="op">;</span></span>
<span id="cb272-11"><a href="beautify-sass.html#cb272-11"></a>}</span>
<span id="cb272-12"><a href="beautify-sass.html#cb272-12"></a></span>
<span id="cb272-13"><a href="beautify-sass.html#cb272-13"></a><span class="fu">.alert-green</span> {</span>
<span id="cb272-14"><a href="beautify-sass.html#cb272-14"></a>  <span class="im">@extend</span> %alerts-common<span class="op">;</span></span>
<span id="cb272-15"><a href="beautify-sass.html#cb272-15"></a>  <span class="kw">color</span>: <span class="cn">green</span><span class="op">;</span></span>
<span id="cb272-16"><a href="beautify-sass.html#cb272-16"></a>}</span></code></pre></div>
<p>Let’s translate this into R:</p>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">common</span> <span class="op">&lt;-</span> <span class="st">"%alerts-common {
  position: relative;
  padding: $alert-padding-y $alert-padding-x;
  margin-bottom: $alert-margin-bottom;
}"</span>
<span class="va">alert_red</span> <span class="op">&lt;-</span> <span class="st">".alert-red {
  @extend %alerts-common;
  color: red;
}
"</span>
<span class="va">alert_green</span> <span class="op">&lt;-</span> <span class="st">".alert-green {
  @extend %alerts-common;
  color: green;
}
"</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"alert-padding-y"</span> <span class="op">=</span> <span class="st">"5px"</span>,
  <span class="st">"alert-padding-x"</span> <span class="op">=</span> <span class="st">"10px"</span>,
  <span class="st">"alert-margin-bottom"</span> <span class="op">=</span> <span class="st">"2px"</span>,
  <span class="va">common</span>,
  <span class="va">alert_red</span>,
  <span class="va">alert_green</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .alert-green, .alert-red {
#&gt;   position: relative;
#&gt;   padding: 5px 10px;
#&gt;   margin-bottom: 2px;
#&gt; }
#&gt; 
#&gt; .alert-red {
#&gt;   color: red;
#&gt; }
#&gt; 
#&gt; .alert-green {
#&gt;   color: green;
#&gt; }</code></pre>
<p>This method avoids to multiply classes on elements such as <code>.alert-common .alert-red ...</code>.
Yet, we could have programmatically generated the two alert
classes with a loop, to avoid duplication.</p>
</div>
<div id="flow-controls" class="section level3">
<h3>
<span class="header-section-number">7.1.5</span> Flow Controls<a class="anchor" aria-label="anchor" href="#flow-controls"><i class="fas fa-link"></i></a>
</h3>
<p>These are elements aiming at fine tuning mixins and functions behavior.</p>
<div id="if-and-else" class="section level4">
<h4>
<span class="header-section-number">7.1.5.1</span> if and else<a class="anchor" aria-label="anchor" href="#if-and-else"><i class="fas fa-link"></i></a>
</h4>
<p>Like in every programming language <code>if</code> and <code>else</code> control the execution of a code block, depending
on some conditions.
Below, we only want to conditionally control a shadow property, depending on the alert color:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb275-1"><a href="beautify-sass.html#cb275-1"></a><span class="im">@mixin</span> add-shadow<span class="fu">(</span>$color<span class="fu">)</span> {</span>
<span id="cb275-2"><a href="beautify-sass.html#cb275-2"></a>  <span class="im">@if</span> $color == <span class="cn">red</span> {</span>
<span id="cb275-3"><a href="beautify-sass.html#cb275-3"></a>    <span class="kw">box-shadow</span>:</span>
<span id="cb275-4"><a href="beautify-sass.html#cb275-4"></a>      <span class="dv">0</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span> <span class="fu">rgb(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb275-5"><a href="beautify-sass.html#cb275-5"></a>      <span class="dv">0</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span> <span class="fu">rgb(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb275-6"><a href="beautify-sass.html#cb275-6"></a>  } <span class="im">@else</span> if $color == <span class="cn">green</span> {</span>
<span id="cb275-7"><a href="beautify-sass.html#cb275-7"></a>    <span class="kw">box-shadow</span>:</span>
<span id="cb275-8"><a href="beautify-sass.html#cb275-8"></a>      <span class="dv">0</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span> <span class="fu">rgb(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb275-9"><a href="beautify-sass.html#cb275-9"></a>      <span class="dv">0</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span> <span class="fu">rgb(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb275-10"><a href="beautify-sass.html#cb275-10"></a>  }</span>
<span id="cb275-11"><a href="beautify-sass.html#cb275-11"></a>}</span>
<span id="cb275-12"><a href="beautify-sass.html#cb275-12"></a></span>
<span id="cb275-13"><a href="beautify-sass.html#cb275-13"></a><span class="fu">.alert-red</span> {</span>
<span id="cb275-14"><a href="beautify-sass.html#cb275-14"></a>  <span class="im">@extend</span> %alerts-common<span class="op">;</span></span>
<span id="cb275-15"><a href="beautify-sass.html#cb275-15"></a>  <span class="kw">color</span>: <span class="cn">red</span><span class="op">;</span></span>
<span id="cb275-16"><a href="beautify-sass.html#cb275-16"></a>  <span class="im">@include</span> add-shadow<span class="fu">(</span>$color: <span class="cn">red</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb275-17"><a href="beautify-sass.html#cb275-17"></a>}</span>
<span id="cb275-18"><a href="beautify-sass.html#cb275-18"></a></span>
<span id="cb275-19"><a href="beautify-sass.html#cb275-19"></a><span class="fu">.alert-green</span> {</span>
<span id="cb275-20"><a href="beautify-sass.html#cb275-20"></a>  <span class="im">@extend</span> %alerts-common<span class="op">;</span></span>
<span id="cb275-21"><a href="beautify-sass.html#cb275-21"></a>  <span class="kw">color</span>: <span class="cn">green</span><span class="op">;</span></span>
<span id="cb275-22"><a href="beautify-sass.html#cb275-22"></a>  <span class="im">@include</span> add-shadow<span class="fu">(</span>$color: <span class="cn">green</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb275-23"><a href="beautify-sass.html#cb275-23"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_shadow</span> <span class="op">&lt;-</span> <span class="st">"@mixin add-shadow($color) {
  @if $color == red {
    box-shadow:
      0 4px 10px 0 rgb(255, 0, 0),
      0 4px 20px 0 rgb(255, 0, 0);
  } @else if $color == green {
    box-shadow:
      0 4px 10px 0 rgb(0, 255, 0),
      0 4px 20px 0 rgb(0, 255, 0);
  }
}
"</span>

<span class="va">common</span> <span class="op">&lt;-</span> <span class="st">"%alerts-common {
  position: relative;
  padding: $alert-padding-y $alert-padding-x;
  margin-bottom: $alert-margin-bottom;
}"</span>

<span class="va">alert_red</span> <span class="op">&lt;-</span> <span class="st">".alert-red {
  @extend %alerts-common;
  color: red;
  @include add-shadow($color: red);
}
"</span>

<span class="va">alert_green</span> <span class="op">&lt;-</span> <span class="st">".alert-green {
  @extend %alerts-common;
  color: green;
  @include add-shadow($color: green);
}
"</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="st">"alert-padding-y"</span> <span class="op">=</span> <span class="st">"5px"</span>,
  <span class="st">"alert-padding-x"</span> <span class="op">=</span> <span class="st">"10px"</span>,
  <span class="st">"alert-margin-bottom"</span> <span class="op">=</span> <span class="st">"2px"</span>,
  <span class="va">common</span>,
  <span class="va">add_shadow</span>,
  <span class="va">alert_red</span>,
  <span class="va">alert_green</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .alert-green, .alert-red {
#&gt;   position: relative;
#&gt;   padding: 5px 10px;
#&gt;   margin-bottom: 2px;
#&gt; }
#&gt; 
#&gt; .alert-red {
#&gt;   color: red;
#&gt;   box-shadow: 0 4px 10px 0 red, 0 4px 20px 0 red;
#&gt; }
#&gt; 
#&gt; .alert-green {
#&gt;   color: green;
#&gt;   box-shadow: 0 4px 10px 0 lime, 0 4px 20px 0 lime;
#&gt; }</code></pre>
</div>
<div id="loops" class="section level4">
<h4>
<span class="header-section-number">7.1.5.2</span> Loops<a class="anchor" aria-label="anchor" href="#loops"><i class="fas fa-link"></i></a>
</h4>
<div id="each" class="section level5">
<h5>
<span class="header-section-number">7.1.5.2.1</span> Each<a class="anchor" aria-label="anchor" href="#each"><i class="fas fa-link"></i></a>
</h5>
<p>We would like to create the alert class with only one rule. We first define a list of colors in Sass and
call the <code>@each</code>:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb278-1"><a href="beautify-sass.html#cb278-1"></a>$colors<span class="in">: red</span><span class="op">,</span> green;</span>
<span id="cb278-2"><a href="beautify-sass.html#cb278-2"></a></span>
<span id="cb278-3"><a href="beautify-sass.html#cb278-3"></a><span class="im">@each</span> $color in $colors {</span>
<span id="cb278-4"><a href="beautify-sass.html#cb278-4"></a>  <span class="fu">.alert-</span>#{$color} {</span>
<span id="cb278-5"><a href="beautify-sass.html#cb278-5"></a>    <span class="kw">color</span>: <span class="cn">green</span><span class="op">;</span></span>
<span id="cb278-6"><a href="beautify-sass.html#cb278-6"></a>    <span class="im">@include</span> add-shadow<span class="fu">(</span>$box-color: $color<span class="fu">)</span><span class="op">;</span></span>
<span id="cb278-7"><a href="beautify-sass.html#cb278-7"></a>  }</span>
<span id="cb278-8"><a href="beautify-sass.html#cb278-8"></a>}</span></code></pre></div>
<p>The structure is the same as the JavaScript loop. You’ll also notice the <code>#{...}</code> which
is called <a href="https://sass-lang.com/documentation/interpolation">interpolation</a> and allows to
insert any Sass expression in a string. As another example, if we want to create a <code>background-image</code> property
within a mixin, we could do <code>background-image: url("/some_path/#{$name}.svg")</code>, where <code>#{$name}</code> holds the file name.</p>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_shadow</span> <span class="op">&lt;-</span> <span class="st">"@mixin add-shadow($color) {
  @if $color == red {
    box-shadow:
      0 4px 10px 0 rgb(255, 0, 0),
      0 4px 20px 0 rgb(255, 0, 0);
  } @else if $color == green {
    box-shadow:
      0 4px 10px 0 rgb(0, 255, 0),
      0 4px 20px 0 rgb(0, 255, 0);
  }
}
"</span>

<span class="va">common</span> <span class="op">&lt;-</span> <span class="st">"%alerts-common {
  position: relative;
  padding: $alert-padding-y $alert-padding-x;
  margin-bottom: $alert-margin-bottom;
}"</span>

<span class="va">alerts_rule</span> <span class="op">&lt;-</span> <span class="st">"@each $color in $colors {
  .alert-#{$color} {
    @extend %alerts-common;
    color: green;
    @include add-shadow($color: $color);
  }
}
"</span>
<span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"green"</span>, <span class="st">"red"</span><span class="op">)</span>,
  <span class="st">"alert-padding-y"</span> <span class="op">=</span> <span class="st">"5px"</span>,
  <span class="st">"alert-padding-x"</span> <span class="op">=</span> <span class="st">"10px"</span>,
  <span class="st">"alert-margin-bottom"</span> <span class="op">=</span> <span class="st">"2px"</span>, 
  <span class="va">common</span>,
  <span class="va">add_shadow</span>,
  <span class="va">alerts_rule</span>
<span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* CSS */
#&gt; .alert-red, .alert-green {
#&gt;   position: relative;
#&gt;   padding: 5px 10px;
#&gt;   margin-bottom: 2px;
#&gt; }
#&gt; 
#&gt; .alert-green {
#&gt;   color: green;
#&gt;   box-shadow: 0 4px 10px 0 lime, 0 4px 20px 0 lime;
#&gt; }
#&gt; 
#&gt; .alert-red {
#&gt;   color: green;
#&gt;   box-shadow: 0 4px 10px 0 red, 0 4px 20px 0 red;
#&gt; }</code></pre>
<p>It becomes even more powerful while working with <strong>maps</strong> like <code>$font-weights: ("regular": 400, "medium": 500, "bold": 700);</code>, i.e by key/value <a href="https://sass-lang.com/documentation/at-rules/control/each#with-maps">pairs</a>.
<code>@each</code> is as convenient as <code>lapply</code> or <code>map</code> functions to chain repetitive rules creation.</p>
</div>
<div id="for" class="section level5">
<h5>
<span class="header-section-number">7.1.5.2.2</span> For<a class="anchor" aria-label="anchor" href="#for"><i class="fas fa-link"></i></a>
</h5>
<p>However, it is not straightforward to count up or down with <code>@each</code>. This is precisely where
<code>@for</code> fills the gap. The generic scheme is:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb281-1"><a href="beautify-sass.html#cb281-1"></a><span class="im">@for</span> &lt;variable&gt; from &lt;expression&gt; to &lt;expression&gt; { <span class="fu">...</span> }</span>
<span id="cb281-2"><a href="beautify-sass.html#cb281-2"></a><span class="im">@for</span> &lt;variable&gt; from &lt;expression&gt; through &lt;expression&gt; { <span class="fu">...</span> }</span></code></pre></div>
<p><strong>to</strong> excludes the last number while <strong>through</strong> includes it.</p>
</div>
</div>
</div>
<div id="nesting-code" class="section level3">
<h3>
<span class="header-section-number">7.1.6</span> Nesting code<a class="anchor" aria-label="anchor" href="#nesting-code"><i class="fas fa-link"></i></a>
</h3>
<p>To make your code more readable, <code>Sass</code> allows to <strong>nest</strong> rules by hierarchy, thereby aligning with the underlying HTML structure. For instance, looking at the previous example from section <a href="beautify-css.html#css-pseudoelements">6.2.4.4.2</a>:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb282-1"><a href="beautify-sass.html#cb282-1"></a><span class="fu">.navbar-nav</span> <span class="op">&gt;</span> li<span class="in">:first-child</span> <span class="op">&gt;</span> a {</span>
<span id="cb282-2"><a href="beautify-sass.html#cb282-2"></a>  <span class="kw">font-size</span>: <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb282-3"><a href="beautify-sass.html#cb282-3"></a>  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb282-4"><a href="beautify-sass.html#cb282-4"></a>}</span>
<span id="cb282-5"><a href="beautify-sass.html#cb282-5"></a><span class="fu">.navbar-nav</span> <span class="op">&gt;</span> li<span class="in">:first-child</span> <span class="op">&gt;</span> a<span class="in">::before</span> {</span>
<span id="cb282-6"><a href="beautify-sass.html#cb282-6"></a>  <span class="kw">content</span>: <span class="st">'✌️'</span></span>
<span id="cb282-7"><a href="beautify-sass.html#cb282-7"></a>}</span></code></pre></div>
<p>Transforming to Sass code, it avoids to have two separate rules:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb283-1"><a href="beautify-sass.html#cb283-1"></a><span class="fu">.navbar-nav</span> {</span>
<span id="cb283-2"><a href="beautify-sass.html#cb283-2"></a>  <span class="op">&gt;</span> li:first-child {</span>
<span id="cb283-3"><a href="beautify-sass.html#cb283-3"></a>    &gt; a {</span>
<span id="cb283-4"><a href="beautify-sass.html#cb283-4"></a>      font-size: <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb283-5"><a href="beautify-sass.html#cb283-5"></a>      <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb283-6"><a href="beautify-sass.html#cb283-6"></a>    }</span>
<span id="cb283-7"><a href="beautify-sass.html#cb283-7"></a>  }</span>
<span id="cb283-8"><a href="beautify-sass.html#cb283-8"></a>  </span>
<span id="cb283-9"><a href="beautify-sass.html#cb283-9"></a>  <span class="op">&gt;</span> li<span class="in">:first-child</span> {</span>
<span id="cb283-10"><a href="beautify-sass.html#cb283-10"></a>    <span class="op">&gt;</span> a::before {</span>
<span id="cb283-11"><a href="beautify-sass.html#cb283-11"></a>      content: <span class="st">'✌️'</span></span>
<span id="cb283-12"><a href="beautify-sass.html#cb283-12"></a>    }</span>
<span id="cb283-13"><a href="beautify-sass.html#cb283-13"></a>  }</span>
<span id="cb283-14"><a href="beautify-sass.html#cb283-14"></a>}</span></code></pre></div>
<p>Below is another example taken from the AdminLTE3 library powering <a href="https://rinterface.github.io/bs4Dash/index.html">bs4Dash</a>. This code shows how the card CSS is structured, leveraging all the above Sass capabilities like <strong>mixins</strong>, nesting, functions, … This chunk may be read from top to bottom and gives a rather good idea of how the card will look like, contrary to the classic CSS approach. It first applies a shadow with a mixin, then sets the bottom margin with a function. All listed variables are defined in a separate file. Besides, the card body has text printed in white color when the dark mode is active. Finally, when the card is collapsed, none of the body and footer elements are displayed.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb284-1"><a href="beautify-sass.html#cb284-1"></a><span class="fu">.card</span> {</span>
<span id="cb284-2"><a href="beautify-sass.html#cb284-2"></a>  <span class="im">@include</span> box-shadow<span class="fu">(</span>$card-shadow<span class="fu">)</span><span class="op">;</span></span>
<span id="cb284-3"><a href="beautify-sass.html#cb284-3"></a>  <span class="kw">margin-bottom</span>: map-get<span class="fu">(</span>$spacers<span class="op">,</span> <span class="dv">3</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb284-4"><a href="beautify-sass.html#cb284-4"></a></span>
<span id="cb284-5"><a href="beautify-sass.html#cb284-5"></a>  &amp;<span class="fu">.bg-dark</span> {</span>
<span id="cb284-6"><a href="beautify-sass.html#cb284-6"></a>    <span class="fu">.card-header</span> {</span>
<span id="cb284-7"><a href="beautify-sass.html#cb284-7"></a>      <span class="kw">border-color</span>: $card-dark-border-color<span class="op">;</span></span>
<span id="cb284-8"><a href="beautify-sass.html#cb284-8"></a>    }</span>
<span id="cb284-9"><a href="beautify-sass.html#cb284-9"></a></span>
<span id="cb284-10"><a href="beautify-sass.html#cb284-10"></a>    &amp;<span class="op">,</span></span>
<span id="cb284-11"><a href="beautify-sass.html#cb284-11"></a>    <span class="fu">.card-body</span> {</span>
<span id="cb284-12"><a href="beautify-sass.html#cb284-12"></a>      <span class="kw">color</span>: $white<span class="op">;</span></span>
<span id="cb284-13"><a href="beautify-sass.html#cb284-13"></a>    }</span>
<span id="cb284-14"><a href="beautify-sass.html#cb284-14"></a>  }</span>
<span id="cb284-15"><a href="beautify-sass.html#cb284-15"></a>  <span class="co">/* other rules */</span> </span>
<span id="cb284-16"><a href="beautify-sass.html#cb284-16"></a>  <span class="er">// collapsed mode</span></span>
<span id="cb284-17"><a href="beautify-sass.html#cb284-17"></a>  &amp;<span class="fu">.collapsed-card</span> {</span>
<span id="cb284-18"><a href="beautify-sass.html#cb284-18"></a>    <span class="fu">.card-body</span><span class="op">,</span></span>
<span id="cb284-19"><a href="beautify-sass.html#cb284-19"></a>    <span class="fu">.card-footer</span> {</span>
<span id="cb284-20"><a href="beautify-sass.html#cb284-20"></a>      <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></span>
<span id="cb284-21"><a href="beautify-sass.html#cb284-21"></a>    }</span>
<span id="cb284-22"><a href="beautify-sass.html#cb284-22"></a>  }</span>
<span id="cb284-23"><a href="beautify-sass.html#cb284-23"></a>  <span class="co">/* other rules */</span> </span>
<span id="cb284-24"><a href="beautify-sass.html#cb284-24"></a>}</span></code></pre></div>
</div>
</div>
<div id="sass-best-practices" class="section level2">
<h2>
<span class="header-section-number">7.2</span> <code>{sass}</code> best practices<a class="anchor" aria-label="anchor" href="#sass-best-practices"><i class="fas fa-link"></i></a>
</h2>
<p>As it’s best practice, especially for debugging purposes, to include assets as HTML
dependencies, it is a good idea to organize the Sass variable definition, function/mixins in <strong>layers</strong>, leveraging the <code><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer()</a></code> function:</p>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rule1</span> <span class="op">&lt;-</span> <span class="st">".class-1{ color: $color; }"</span>
<span class="va">rule2</span> <span class="op">&lt;-</span> <span class="st">".class-2{ background-color: $color; }"</span>
<span class="va">layer1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer</a></span><span class="op">(</span>
  defaults <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"purple"</span><span class="op">)</span>,
  rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">rule1</span>, <span class="va">rule2</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<pre><code>#&gt; /* Sass Bundle */
#&gt; $color: purple;
#&gt; .class-1{ color: $color; }
#&gt; .class-2{ background-color: $color; }
#&gt; /* *** */</code></pre>
<p>Besides, <code><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer()</a></code> provide options like:</p>
<ul>
<li>
<strong>declarations</strong> containing any function, mixin elements, in a <code>sass_file</code> for instance.</li>
<li>
<strong>html_deps</strong> that attaches a single or a list of HTML dependencies to the provided Sass code, as shown below.</li>
</ul>
<div class="sourceCode" id="cb287"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer</a></span><span class="op">(</span>
  html_deps <span class="op">=</span> <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/htmlDependency.html">htmlDependency</a></span><span class="op">(</span>
    name <span class="op">=</span> <span class="st">"my-dep"</span>,
    version <span class="op">=</span> <span class="st">"1.0.0"</span>,
    package <span class="op">=</span> <span class="st">"mypkg"</span>,
    src <span class="op">=</span> <span class="st">"path"</span>,
    <span class="va">...</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Ultimately, multiple layers may be bundled with <code><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_bundle()</a></code>:</p>
<div class="sourceCode" id="cb288"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">layer2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer</a></span><span class="op">(</span>
  defaults <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span>,
  rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">rule1</span>, <span class="va">rule2</span><span class="op">)</span>
<span class="op">)</span>


<span class="va">my_bundle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_bundle</a></span><span class="op">(</span>layer1 <span class="op">=</span> <span class="va">layer1</span>, layer2 <span class="op">=</span> <span class="va">layer2</span><span class="op">)</span>
<span class="va">my_bundle</span></code></pre></div>
<pre><code>#&gt; /* Sass Bundle: layer1, layer2 */
#&gt; $color: blue;
#&gt; $color: purple;
#&gt; .class-1{ color: $color; }
#&gt; .class-2{ background-color: $color; }
#&gt; .class-1{ color: $color; }
#&gt; .class-2{ background-color: $color; }
#&gt; /* *** */</code></pre>
<pre><code>#&gt; /* CSS */
#&gt; .class-1 {
#&gt;   color: purple;
#&gt; }
#&gt; 
#&gt; .class-2 {
#&gt;   background-color: purple;
#&gt; }
#&gt; 
#&gt; .class-1 {
#&gt;   color: purple;
#&gt; }
#&gt; 
#&gt; .class-2 {
#&gt;   background-color: purple;
#&gt; }</code></pre>
<p><code><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_bundle_remove()</a></code> removes a given layer from the bundle, provided that you passed a named list to <code><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_bundle()</a></code>.
This allows other developers to reuse and modify predefined layers:</p>
<div class="sourceCode" id="cb291"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_bundle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_bundle_remove</a></span><span class="op">(</span><span class="va">my_bundle</span>, <span class="st">"layer2"</span><span class="op">)</span>
<span class="va">my_bundle</span></code></pre></div>
<pre><code>#&gt; /* Sass Bundle: layer1 */
#&gt; $color: purple;
#&gt; .class-1{ color: $color; }
#&gt; .class-2{ background-color: $color; }
#&gt; /* *** */</code></pre>
<div class="sourceCode" id="cb293"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span><span class="va">my_bundle</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; &lt;style&gt;.class-1 {
#&gt;   color: purple;
#&gt; }
#&gt; 
#&gt; .class-2 {
#&gt;   background-color: purple;
#&gt; }
#&gt; &lt;/style&gt;</code></pre>
<pre><code>#&gt; /* CSS */
#&gt; .class-1 {
#&gt;   color: purple;
#&gt; }
#&gt; 
#&gt; .class-2 {
#&gt;   background-color: purple;
#&gt; }</code></pre>
</div>
<div id="from-sass-to-css" class="section level2">
<h2>
<span class="header-section-number">7.3</span> From Sass to CSS<a class="anchor" aria-label="anchor" href="#from-sass-to-css"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://rstudio.github.io/sass//reference/sass.html">sass()</a></code> can generate CSS from Sass by passing an <strong>output</strong> parameter pointing to the path where
to generate the CSS file. Best practice consists in enabling <strong>compression</strong> and <strong>source maps</strong>. We discuss
this later in the book in Chapter <a href="workflow-charpente.html#workflow-charpente">21</a>. Overall those steps makes the code faster to load and easier to debug:</p>
<div class="sourceCode" id="cb296"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
   color <span class="op">=</span> <span class="st">"pink"</span>,
   <span class="st">".a { color: $color; }"</span>
  <span class="op">)</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_options.html">sass_options</a></span><span class="op">(</span>
    output_style <span class="op">=</span> <span class="st">"compressed"</span>,
    source_map_embed <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<!-- manual copy paste for pdf output formating -->
<pre><code>/* CSS */
.a{color:pink}

/*# sourceMappingURL=data:application/json;base64,ewoJInZlcn
Npb24iOiAzLAoJImZpbGUiOiAic3RkaW4uY3NzIiwKCSJzb3VyY2VzIjogWwo
JCSJzdGRpbiIKCV0sCgkibmFtZXMiOiBbXSwKCSJtYXBwaW5ncyI6ICJBQUNB
LEFBQUEsRUFBRSxBQUFDLENBQUUsS0FBSyxDQURGLElBQUksQ0FDVSIK
fQ== */</code></pre>
<div class="sourceCode" id="cb298"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_file</a></span><span class="op">(</span><span class="st">"main.scss"</span><span class="op">)</span>,
  <span class="st">"&lt;OUTPUT PATH&gt;"</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_options.html">sass_options</a></span><span class="op">(</span>
    output_style <span class="op">=</span> <span class="st">"compressed"</span>,
    source_map_embed <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="sass-and-shiny" class="section level2">
<h2>
<span class="header-section-number">7.4</span> Sass and Shiny<a class="anchor" aria-label="anchor" href="#sass-and-shiny"><i class="fas fa-link"></i></a>
</h2>
<p>Now let’s go back to Shiny! How do we include Sass code in a Shiny app? There are multiple situations:</p>
<ol style="list-style-type: decimal">
<li>You simply want to style a shiny app.</li>
<li>You developed a template with custom JS and Sass/CSS to be reused by other developers.</li>
</ol>
<p>The first option is rather simple since the Sass code is compiled with <code><a href="https://rstudio.github.io/sass//reference/sass.html">sass()</a></code> before the shiny apps is launched. The resulting code may be either a string or a CSS file (within the <code>www</code> folder), to be included in the <code>head</code>. We assume to be located at the app folder level:</p>
<div class="sourceCode" id="cb299"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    color <span class="op">=</span> <span class="st">"pink"</span>,
    size <span class="op">=</span> <span class="st">"30px"</span>,
    <span class="st">".awesome-link {
      color: $color;
      font-size: $size;
      &amp;:hover{
        color: green;
      }
    }"</span>
  <span class="op">)</span>,
  output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"www/main.min.css"</span><span class="op">)</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_options.html">sass_options</a></span><span class="op">(</span>
    output_style <span class="op">=</span> <span class="st">"compressed"</span>,
    source_map_embed <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Source maps allow us to see the original Sass code, as shown Figure <a href="beautify-sass.html#fig:sass-inspect">7.1</a>.
<code><a href="https://rstudio.github.io/sass//reference/sass_options.html">sass_options()</a></code> gives the flexibility to fine tune the CSS output and source map configuration.</p>
<div class="importantblock">
<p>For complex projects where the CSS compilation may take time, we strongly advise to process the CSS independently from
the app startup.</p>
</div>
<div class="figure">
<span id="fig:sass-inspect"></span>
<img src="images/beautify/sass-inspect.png" alt="Inspect Sass code in the web browser" width="100%"><p class="caption">
FIGURE 7.1: Inspect Sass code in the web browser
</p>
</div>
<p>The second option requires to run <code><a href="https://rstudio.github.io/sass//reference/sass.html">sass()</a></code> passing an <strong>output</strong> file within the package. Then, the generated CSS
is included in an HTML dependency, ready to be shipped with the template:</p>
<div class="sourceCode" id="cb300"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_file</a></span><span class="op">(</span><span class="st">"main.scss"</span><span class="op">)</span>,
  <span class="st">"&lt;OUTPUT PATH&gt;/main.css"</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_options.html">sass_options</a></span><span class="op">(</span>
    output_style <span class="op">=</span> <span class="st">"compressed"</span>,
    source_map_embed <span class="op">=</span> <span class="cn">TRUE</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="va">my_css_deps</span> <span class="op">&lt;-</span> <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/htmlDependency.html">htmlDependency</a></span><span class="op">(</span>
  name <span class="op">=</span> <span class="st">"my-style"</span>,
  version <span class="op">=</span> <span class="st">"1.0.0"</span>,
  package <span class="op">=</span> <span class="st">"mypkg"</span>,
  src <span class="op">=</span> <span class="st">"&lt;OUTPUT PATH&gt;"</span>,
  stylesheet <span class="op">=</span> <span class="st">"main.css"</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="examples" class="section level2">
<h2>
<span class="header-section-number">7.5</span> Examples<a class="anchor" aria-label="anchor" href="#examples"><i class="fas fa-link"></i></a>
</h2>
<div id="sass-customize-bs4Dash" class="section level3">
<h3>
<span class="header-section-number">7.5.1</span> Customize <code>{bs4Dash}</code> colors<a class="anchor" aria-label="anchor" href="#sass-customize-bs4Dash"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://rinterface.github.io/bs4Dash/index.html">bs4Dash</a> is a Bootstrap 4 dashboard template built on top of the <a href="https://adminlte.io/themes/v3/">AdminLTE3</a> HTML template. <a href="http://rstudio.github.io/shinydashboard/">shinydashboard</a> is powered by the previous version, that is <a href="https://adminlte.io/themes/AdminLTE/index2.html">AdminLTE2</a>, which make it somehow <a href="https://rinterface.github.io/bs4Dash/index.html">bs4Dash</a>’s big brother!
AdminLTE3 relies on Sass and all files are stored <a href="https://github.com/ColorlibHQ/AdminLTE/tree/master/build/scss">here</a>. Particularly, all variables are located in the <code>_variables.scss</code> partial. Since we can decompose our
Sass code in multiple layers, we seamlessly customize the theme color
variables listed below:</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb301-1"><a href="beautify-sass.html#cb301-1"></a>$blue<span class="in">: #0073b7 !default</span>;</span>
<span id="cb301-2"><a href="beautify-sass.html#cb301-2"></a>$lightblue<span class="in">: #3c8dbc !default</span>;</span>
<span id="cb301-3"><a href="beautify-sass.html#cb301-3"></a>$navy<span class="in">: #001f3f !default</span>;</span>
<span id="cb301-4"><a href="beautify-sass.html#cb301-4"></a>$teal<span class="in">: #39cccc !default</span>;</span>
<span id="cb301-5"><a href="beautify-sass.html#cb301-5"></a>$olive<span class="in">: #3d9970 !default</span>;</span>
<span id="cb301-6"><a href="beautify-sass.html#cb301-6"></a>$lime<span class="in">: #01ff70 !default</span>;</span>
<span id="cb301-7"><a href="beautify-sass.html#cb301-7"></a>$orange<span class="in">: #ff851b</span> !default;</span>
<span id="cb301-8"><a href="beautify-sass.html#cb301-8"></a>$fuchsia<span class="in">: #f012be</span> !default;</span>
<span id="cb301-9"><a href="beautify-sass.html#cb301-9"></a>$purple<span class="in">: #605ca8 !default</span>;</span>
<span id="cb301-10"><a href="beautify-sass.html#cb301-10"></a>$maroon<span class="in">: #d81b60</span> !default;</span>
<span id="cb301-11"><a href="beautify-sass.html#cb301-11"></a>$black<span class="in">: #111 !default</span>;</span>
<span id="cb301-12"><a href="beautify-sass.html#cb301-12"></a>$gray-x-light<span class="in">: #d2d6de</span> !default;</span></code></pre></div>
<p>Let’s provide our own defaults with some custom <a href="https://colorswall.com/palette/66354/">colors</a>:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb302-1"><a href="beautify-sass.html#cb302-1"></a>$blue<span class="in">: #136377 !default</span>;</span>
<span id="cb302-2"><a href="beautify-sass.html#cb302-2"></a>$olive<span class="in">: #d8bc66</span> !default;</span>
<span id="cb302-3"><a href="beautify-sass.html#cb302-3"></a>$lime<span class="in">: #fcec0c</span> !default;</span>
<span id="cb302-4"><a href="beautify-sass.html#cb302-4"></a>$orange<span class="in">: #978d01 !default</span>;</span>
<span id="cb302-5"><a href="beautify-sass.html#cb302-5"></a>$maroon<span class="in">: #58482c !default</span>;</span>
<span id="cb302-6"><a href="beautify-sass.html#cb302-6"></a>$gray-x-light<span class="in">: #d1c5c0</span> !default;</span></code></pre></div>
<p>Now we would have to recompile the whole AdminLTE3 Sass code to account for these changes.
It means, all scss assets must be accessible somewhere: this is what the <a href="https://github.com/dreamRs/fresh">fresh</a> package is doing under the <a href="https://github.com/dreamRs/fresh/blob/master/R/create_theme.R">hoods</a>.
No worries, we’ll come back on <a href="https://github.com/dreamRs/fresh">fresh</a> in the next Chapter. For now, we rely on the <code>{OSUICode}</code> Sass code stored at
<code><a href="https://rdrr.io/r/base/system.file.html">system.file("sass/adminlte/adminlte.scss", package = "OSUICode")</a></code> (since <a href="https://github.com/dreamRs/fresh">fresh</a> may change in the future, <code>{OSUICode}</code> will be frozen to make sure the code always work):</p>
<div class="sourceCode" id="cb303"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">css</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer</a></span><span class="op">(</span>
    defaults <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      lightblue <span class="op">=</span> <span class="st">"#136377"</span>,
      olive <span class="op">=</span> <span class="st">"#d8bc66"</span>,
      lime <span class="op">=</span> <span class="st">"#fcec0c"</span>,
      orange <span class="op">=</span> <span class="st">"#978d01"</span>,
      maroon <span class="op">=</span> <span class="st">"#58482c"</span>,
      <span class="st">"gray-x-light"</span> <span class="op">=</span> <span class="st">"#d1c5c0"</span>
    <span class="op">)</span>,
    rules <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_file</a></span><span class="op">(</span>
      input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span>
        <span class="st">"sass/adminlte/adminlte.scss"</span>,
        package <span class="op">=</span> <span class="st">"OSUICode"</span>
      <span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co"># This CSS is injected inside the app head (see example)</span></code></pre></div>
<p>The corresponding app may be tested below. If you want to see the whole code, run <code><a href="https://rdrr.io/pkg/OSUICode/man/get_example.html">OSUICode::get_example("sass/examples/bs4Dash-custom")</a></code>.</p>
<div class="sourceCode" id="cb304"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### RUN ### </span>
<span class="co"># OSUICode::run_example( </span>
<span class="co">#  "sass/examples/bs4Dash-custom" </span>
<span class="co"># ) </span></code></pre></div>
<p>Output is shown on Figure <a href="beautify-sass.html#fig:sass-adminlte-colors">7.2</a>.</p>
<div class="figure">
<span id="fig:sass-adminlte-colors"></span>
<img src="images/beautify/sass-adminlte-colors.png" alt="Custom AdminLTE colors" width="100%"><p class="caption">
FIGURE 7.2: Custom AdminLTE colors
</p>
</div>
<p>You probably noticed a potential issue. We indeed have to rely on a specific AdminLTE version,
namely <code>3.1.0</code>, that is not necessarily the one we want. Therefore, an alternative would
be to download the Sass files from AdminLTE3, store them in a package, ideally the <code>/inst</code> folder, and recompile the code from that folder with new variables. As AdminLTE3 depends on Bootstrap 4, we would have to recover those dependencies in a separate folder, making sure it is accessible to the AdminLTE Sass code.</p>
</div>
<div id="customize-shinybulma" class="section level3">
<h3>
<span class="header-section-number">7.5.2</span> Customize <code>{shinybulma}</code><a class="anchor" aria-label="anchor" href="#customize-shinybulma"><i class="fas fa-link"></i></a>
</h3>
<p>For convenience, the Sass code is already included in the book side <a href="https://github.com/DivadNojnarg/outstanding-shiny-ui-code/tree/master/inst/sass/bulma">package</a>.
The goal is to change the main color palette that comprises:</p>
<ul>
<li>primary</li>
<li>info</li>
<li>success</li>
<li>warning</li>
<li>danger</li>
</ul>
<p>In total, bulma exposes 419 Sass <a href="https://bulma.io/documentation/customize/concepts/">variables</a>!</p>
<p>Among all files, we locate the main variables file and select the relevant variables we want to modify.
Notice we can retrieve all those information: <a href="https://bulma.io/documentation/customize/variables/#initial-variables">initial variables</a> and <a href="https://bulma.io/documentation/customize/variables/#variables">derived variables</a>.</p>
<p>We assign them new <a href="https://blog.depositphotos.com/neon-color-palettes.html">values</a>:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb305-1"><a href="beautify-sass.html#cb305-1"></a>$turquoise<span class="in">: #03a4ff;</span></span>
<span id="cb305-2"><a href="beautify-sass.html#cb305-2"></a>$cyan<span class="in">: #e705be</span>;</span>
<span id="cb305-3"><a href="beautify-sass.html#cb305-3"></a>$green<span class="in">: #f3d6e9</span>;</span>
<span id="cb305-4"><a href="beautify-sass.html#cb305-4"></a>$yellow<span class="in">: #fdaf2c</span>;</span>
<span id="cb305-5"><a href="beautify-sass.html#cb305-5"></a>$red<span class="in">: #ff483e</span>;</span>
<span id="cb305-6"><a href="beautify-sass.html#cb305-6"></a>$scheme-main<span class="in">: hsl(0, 0%, 4%)</span>;</span></code></pre></div>
<p>Particularly, we target the main body color stored in <code>$scheme-main</code>. Instead of pointing
to <code>$white</code>, we change its value to the default <code>$black</code>. We then Compile the new CSS with <code><a href="https://rstudio.github.io/sass//reference/sass.html">sass()</a></code>:</p>
<div class="sourceCode" id="cb306"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">css</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass.html">sass</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_layer.html">sass_layer</a></span><span class="op">(</span>
    defaults <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      turquoise <span class="op">=</span> <span class="st">"#03a4ff"</span>,
            cyan <span class="op">=</span> <span class="st">"#e705be"</span>,
            green <span class="op">=</span> <span class="st">"#f3d6e9"</span>,
            yellow <span class="op">=</span> <span class="st">"#fdaf2c"</span>,
            red <span class="op">=</span> <span class="st">"#ff483e"</span>,
      <span class="st">"scheme-main"</span> <span class="op">=</span> <span class="st">"hsl(0, 0%, 10%)"</span>
    <span class="op">)</span>,
    rules <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/sass//reference/sass_import.html">sass_file</a></span><span class="op">(</span>input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span>
      <span class="st">"sass/bulma/bulma.sass"</span>,
      package <span class="op">=</span> <span class="st">"OSUICode"</span>
    <span class="op">)</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Finally, we try the new theme in the following app, shown on Figure <a href="beautify-sass.html#fig:sass-bulma-tiles">7.3</a>.
If you want to see the whole code, run <code><a href="https://rdrr.io/pkg/OSUICode/man/get_example.html">OSUICode::get_example("sass/examples/shinybulma-custom")</a></code>.</p>
<div class="sourceCode" id="cb307"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### RUN ### </span>
<span class="co"># OSUICode::run_example( </span>
<span class="co">#  "sass/examples/shinybulma-custom" </span>
<span class="co"># ) </span></code></pre></div>
<div class="figure">
<span id="fig:sass-bulma-tiles"></span>
<img src="images/beautify/sass-bulma-tiles.png" alt="Custom bulma theme" width="100%"><p class="caption">
FIGURE 7.3: Custom bulma theme
</p>
</div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="beautify-css.html"><span class="header-section-number">6</span> CSS for Shiny</a></div>
<div class="next"><a href="beautify-with-fresh.html"><span class="header-section-number">8</span> Beautify with {fresh}</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#beautify-sass"><span class="header-section-number">7</span> Introduction to Sass</a></li>
<li>
<a class="nav-link" href="#getting-started-with-sass"><span class="header-section-number">7.1</span> Getting started with Sass</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#variables"><span class="header-section-number">7.1.1</span> Variables</a></li>
<li><a class="nav-link" href="#partials-and-modules"><span class="header-section-number">7.1.2</span> Partials and Modules</a></li>
<li><a class="nav-link" href="#mixins-and-functions"><span class="header-section-number">7.1.3</span> Mixins and Functions</a></li>
<li><a class="nav-link" href="#extendinheritance"><span class="header-section-number">7.1.4</span> Extend/Inheritance</a></li>
<li><a class="nav-link" href="#flow-controls"><span class="header-section-number">7.1.5</span> Flow Controls</a></li>
<li><a class="nav-link" href="#nesting-code"><span class="header-section-number">7.1.6</span> Nesting code</a></li>
</ul>
</li>
<li><a class="nav-link" href="#sass-best-practices"><span class="header-section-number">7.2</span> {sass} best practices</a></li>
<li><a class="nav-link" href="#from-sass-to-css"><span class="header-section-number">7.3</span> From Sass to CSS</a></li>
<li><a class="nav-link" href="#sass-and-shiny"><span class="header-section-number">7.4</span> Sass and Shiny</a></li>
<li>
<a class="nav-link" href="#examples"><span class="header-section-number">7.5</span> Examples</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#sass-customize-bs4Dash"><span class="header-section-number">7.5.1</span> Customize {bs4Dash} colors</a></li>
<li><a class="nav-link" href="#customize-shinybulma"><span class="header-section-number">7.5.2</span> Customize {shinybulma}</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/DivadNojnarg/outstanding-shiny-ui/blob/master/beautify-sass.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/DivadNojnarg/outstanding-shiny-ui/edit/master/beautify-sass.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Outstanding User Interfaces with Shiny</strong>" was written by David Granjon. It was last built on 2021-09-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
